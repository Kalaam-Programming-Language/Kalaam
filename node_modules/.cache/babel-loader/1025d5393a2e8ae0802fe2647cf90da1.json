{"remainingRequest":"/Users/jonny/Documents/Work/test/node_modules/thread-loader/dist/cjs.js!/Users/jonny/Documents/Work/test/node_modules/babel-loader/lib/index.js!/Users/jonny/Documents/Work/test/src/FunctionScripts/MiscImportantFunctions.js","dependencies":[{"path":"/Users/jonny/Documents/Work/test/src/FunctionScripts/MiscImportantFunctions.js","mtime":1592314758664},{"path":"/Users/jonny/Documents/Work/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Documents/Work/test/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Documents/Work/test/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVXNlcnMvam9ubnkvRG9jdW1lbnRzL1dvcmsvdGVzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IHsgTnVtYmVyIH0gZnJvbSAiY29yZS1qcyI7IC8vQU5DSE9SIC0gSW1wb3J0YW50IGZ1bmN0aW9ucyB0byBiZSB1c2VkIHdoaWxlIHBhcnNpbmcKCmZ1bmN0aW9uIGlzRW1wdHlTdHJpbmdvckNoYXIoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudCA9PSAnIicgfHwgZWxlbWVudCA9PSAiJyIgfHwgZWxlbWVudCA9PSAnKicgfHwgZWxlbWVudCA9PSAnQCcgfHwgZWxlbWVudCA9PSAiIyIgfHwgZWxlbWVudC5jaGFyQXQoMCkgPT0gIiciIHx8IGVsZW1lbnQuY2hhckF0KDApID09ICciJykgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9Owp9CgpmdW5jdGlvbiBpc1B1cmVFdmFsKGVsZW1lbnQpIHsKICBpZiAoL14oWy0rXT9bMC05XSpcLj9bMC05XStbXC9cK1wtXCpdKSsoWy0rXT9bMC05XSpcLj9bMC05XSspKiQvZ20udGVzdChlbGVtZW50KSkgewogICAgcmV0dXJuIHRydWU7CiAgfQp9CgpmdW5jdGlvbiBpc0NhbGN1bGF0aW9uKGVsZW1lbnQpIHsKICBpZiAoIWlzTnVtYmVyKGVsZW1lbnQpKSB7CiAgICBpZiAoKGVsZW1lbnQuaW5jbHVkZXMoIisiKSB8fCBlbGVtZW50LmluY2x1ZGVzKCIlIikgfHwgZWxlbWVudC5pbmNsdWRlcygiLSIpIHx8IGVsZW1lbnQuaW5jbHVkZXMoIioiKSB8fCBlbGVtZW50LmluY2x1ZGVzKCIvIikpICYmIChlbGVtZW50LmluY2x1ZGVzKCcoJykgJiYgZWxlbWVudC5pbmNsdWRlcygnKScpIHx8ICFlbGVtZW50LmluY2x1ZGVzKCcoJykgJiYgIWVsZW1lbnQuaW5jbHVkZXMoJyknKSkgJiYgZWxlbWVudC5jaGFyQXQoZWxlbWVudC5sZW5ndGggLSAxKSAhPSAnKycpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBSZW1vdmVCcmFja2V0cyhlbGVtZW50KSB7CiAgdmFyIGEgPSBlbGVtZW50LnJlcGxhY2UoJygnLCAnJyk7CiAgdmFyIGIgPSBhLnJlcGxhY2UoJyknLCAnJyk7CiAgdmFyIGMgPSBiLnJlcGxhY2UoJ30nLCAnJyk7CiAgdmFyIGQgPSBjLnJlcGxhY2UoJ3snLCAnJyk7CiAgcmV0dXJuIGQ7Cn0KCmZ1bmN0aW9uIENvdW50KGl0ZW0sIGVsZW1lbnQpIHsKICB2YXIgY291bnQgPSAwOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQubGVuZ3RoOyBpKyspIHsKICAgIGlmIChlbGVtZW50LmNoYXJBdChpKSA9PSBpdGVtICYmIGVsZW1lbnQuY2hhckF0KGkgKyAxKSA9PSBpdGVtKSB7CiAgICAgIGNvdW50ICs9IDE7CiAgICB9CiAgfQoKICByZXR1cm4gY291bnQ7Cn0KCmZ1bmN0aW9uIGlzQXJyYXlPcGVyYXRpb24oZWxlbWVudCkgewogIC8vVG8gZmluZCBQYXR0ZXJucyBsaWtlIEFycmF5WzJdLCBBcnJheVtpbmRleF0gZXRjCiAgZWxlbWVudCA9IFJlbW92ZUJyYWNrZXRzKGVsZW1lbnQpOwoKICBpZiAoZWxlbWVudC5jaGFyQXQoZWxlbWVudC5sZW5ndGggLSAxKSA9PSAnXScgJiYgZWxlbWVudC5pbmNsdWRlcygnWycpICYmIGVsZW1lbnQuY2hhckF0KDApICE9ICdbJykgewogICAgcmV0dXJuIHRydWU7CiAgfQp9CgpmdW5jdGlvbiBGaW5kQ29uZGl0aW9uVmFsdWUoZWxlbWVudCkgewogIGlmIChlbGVtZW50LmluY2x1ZGVzKCc+JykgfHwgZWxlbWVudC5pbmNsdWRlcygnPCcpIHx8IGVsZW1lbnQuaW5jbHVkZXMoJz09JykgfHwgZWxlbWVudC5pbmNsdWRlcygnIT0nKSkgewogICAgZWxlbWVudCA9IGVsZW1lbnQucmVwbGFjZSgvJyAnL2csICcnKTsKICB9IC8vIAogIC8vZ2V0IGluZGV4IG9mIG9wZXJhdGlvbiBmcm9tIHVwZGF0ZWQgdG9rZW5zLCBhcyBhIHJlZmVyZW5jZQoKCiAgdmFyIFN0cmluZ1ZhciA9IFtdOyAvLyBoZXJlIFN0clZhciB2YWx1ZXMgd2lsbCBnZXQgcHVzaGVkCgogIHZhciBTdHJWYXIgPSAnJzsgLy8gaXRzIHVzZWQgdG8gcmVhZCB2YXIgdmFsdWVzIG9mIGFueSB0eXBlIChhbm5hLGEsYmFkLHggZXRjLikgYW5kIHB1c2ggaXQgdG8gU3RyaW5nVmFyCgogIGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudC5sZW5ndGg7IGorKykgewogICAgLy8gZmluZCBpZiBlbGVtZW50W2pdIGlzIGFscGhhYmV0CiAgICBpZiAoL15bQS1aXSskL2kudGVzdChlbGVtZW50W2pdKSB8fCBlbGVtZW50W2pdID09ICdbJyB8fCBlbGVtZW50W2pdID09ICddJyB8fCBpc051bWJlcihlbGVtZW50W2pdKSkgewogICAgICBTdHJWYXIgPSBTdHJWYXIgKyBlbGVtZW50W2pdOyAvL2tlZXAgb24gcHVzaGluZyBmb3IgbG9uZyB2YXJpYWJsZSBuYW1lcyBhcyBzdHJpbmdzIGUuZyBhbm5hLGJhZAogICAgfQoKICAgIGlmIChlbGVtZW50W2pdID09ICcpJyB8fCBlbGVtZW50W2pdID09ICcoJykgewogICAgICBTdHJpbmdWYXIucHVzaChlbGVtZW50W2pdKTsKICAgIH0gLy90byBzb2x2ZSBbIkFnZSAiXSBpbnRvIFsiQWdlIl0sIHNvIHRoYXQgaXQgY2FuIGNvcnJlY3RseSBmaW5kIGl0cyB2YWx1ZSBpbiB1cGRhdGVkX3Rva2Vuc+KBhAoKCiAgICBpZiAoZWxlbWVudFtqXSA9PSAnICcgJiYgZWxlbWVudFtqICsgMV0gIT0gJysnKSB7CiAgICAgIFN0clZhciA9IFN0clZhciArIGVsZW1lbnRbal07IC8vLy8vLy8vCiAgICB9IC8vZm9yIGNoZWNraW5nIGVxdWl2YWxlbmN5CgoKICAgIGlmIChlbGVtZW50W2pdID09ICc9JyAmJiBlbGVtZW50W2ogKyAxXSA9PSAnPScpIHsKICAgICAgU3RyaW5nVmFyLnB1c2goU3RyVmFyKTsKICAgICAgU3RyaW5nVmFyLnB1c2goZWxlbWVudFtqXSArIGVsZW1lbnRbaiArIDFdKTsKICAgICAgU3RyVmFyID0gJyc7IC8vLy8vLy8vCiAgICB9CgogICAgaWYgKGVsZW1lbnRbal0gPT0gJyEnICYmIGVsZW1lbnRbaiArIDFdID09ICc9JykgewogICAgICBTdHJpbmdWYXIucHVzaChTdHJWYXIpOwogICAgICBTdHJpbmdWYXIucHVzaChlbGVtZW50W2pdICsgZWxlbWVudFtqICsgMV0pOwogICAgICBTdHJWYXIgPSAnJzsgLy8vLy8vLy8KICAgIH0KCiAgICBpZiAoZWxlbWVudFtqXSA9PSAiPyIgfHwgZWxlbWVudFtqXSA9PSAifCIgfHwgZWxlbWVudFtqXSA9PSAiOyIgfHwgZWxlbWVudFtqXSA9PSAiJiIgfHwgZWxlbWVudFtqXSA9PSAiXiIgfHwgZWxlbWVudFtqXSA9PSAiJSIgfHwgZWxlbWVudFtqXSA9PSAiJCIgfHwgZWxlbWVudFtqXSA9PSAiIyIgfHwgZWxlbWVudFtqXSA9PSAiQCIgfHwgZWxlbWVudFtqXSA9PSAiISIgfHwgZWxlbWVudFtqXSA9PSAiOiIgfHwgZWxlbWVudFtqXSA9PSAiKyIgfHwgZWxlbWVudFtqXSA9PSAiLCIgfHwgZWxlbWVudFtqXSA9PSAiJSIgfHwgZWxlbWVudFtqXSA9PSAiLSIgfHwgZWxlbWVudFtqICsgMV0gPT0gJyknIHx8IGVsZW1lbnRbal0gPT0gIi8iIHx8IGVsZW1lbnRbal0gPT0gIioiIHx8IGVsZW1lbnRbal0gPT0gJz4nIHx8IGVsZW1lbnRbal0gPT0gJzwnKSB7CiAgICAgIFN0cmluZ1Zhci5wdXNoKFN0clZhcik7IC8vcHVzaCB3aGF0ZXZlciBzdHJpbmcgd2UgaGF2ZSBnb3QgYmVjYXVzZSBpdCdzIGEgc3RyaW5nIG5vdywgY2FudCBwdXNoIG9wZXJhdG9ycyB3aXRoIGl0CiAgICAgIC8vZmluZGluZyB0aGUgY2FsY3VsYXRpb25zIHRoYXQgcmVxdWlyZWQgYnJhY2tldHMgYW5kIGFkZGluZyB0aGVtCgogICAgICBpZiAoZWxlbWVudFtqICsgMV0gIT0gJyknKSB7CiAgICAgICAgU3RyaW5nVmFyLnB1c2goZWxlbWVudFtqXSk7IC8vIGZpeGluZyB0aGUgYmlhcwogICAgICB9CgogICAgICBTdHJWYXIgPSAnJzsgLy8gZW1wdHlpZyB0aGUgU3RyVmFyIGZvciBuZXh0IHZhcmlhYmxlCiAgICB9CgogICAgaWYgKGVsZW1lbnRbaiArIDFdID09IG51bGwpIHsKICAgICAgU3RyaW5nVmFyLnB1c2goU3RyVmFyKTsgLy9maXhpbmcgYmlhcyBmb3IgbGFzdCBlbGVtZW50CiAgICAgIC8vIC8vLy8vLwogICAgfQogIH0gLy8KCgogIHJldHVybiBTdHJpbmdWYXI7Cn0KCmZ1bmN0aW9uIGdldExvb3BJbmRleFN0YXJ0KG11dGFibGVfdG9rZW5zLCBqLCBjaGVjaywgc2V0SW5kZXgpIHsKICB3aGlsZSAobXV0YWJsZV90b2tlbnNbal0udmFsdWUgIT0gY2hlY2spIHsKICAgIGlmIChtdXRhYmxlX3Rva2Vuc1tqICsgMV0udmFsdWUgPT0gY2hlY2spIHsKICAgICAgc2V0SW5kZXggPSBqICsgMTsKICAgIH0KCiAgICBqKys7CiAgfQoKICByZXR1cm4gc2V0SW5kZXg7Cn0KCmZ1bmN0aW9uIGhhbmRsZW11bHRDb25kaXRpb25zKGVsZW1lbnQpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQubGVuZ3RoOyBpKyspIHsKICAgIGlmIChlbGVtZW50LmNoYXJBdChpKSA9PSAnJicgfHwgZWxlbWVudC5jaGFyQXQoaSkgPT0gJ3wnKSB7CiAgICAgIHZhciBjb25kaXRpb24gPSBlbGVtZW50LnN1YnN0cmluZygwLCBpICsgMik7CiAgICAgIHZhciBTd2VlcGVkRWxlbWVudCA9IGVsZW1lbnQucmVwbGFjZShjb25kaXRpb24sICIiKTsKICAgICAgdmFyIG9wZXJhdG9yID0gJyc7CgogICAgICBpZiAoZWxlbWVudC5jaGFyQXQoaSkgPT0gJyYnKSB7CiAgICAgICAgY29uZGl0aW9uID0gY29uZGl0aW9uLnJlcGxhY2UoJyYmJywgJycpOwogICAgICAgIG9wZXJhdG9yID0gJyYmJzsKICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmNoYXJBdChpKSA9PSAnfCcpIHsKICAgICAgICBjb25kaXRpb24gPSBjb25kaXRpb24ucmVwbGFjZSgnfHwnLCAnJyk7CiAgICAgICAgb3BlcmF0b3IgPSAnfHwnOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIFN3ZWVwZWRFbGVtZW50OiBTd2VlcGVkRWxlbWVudCwKICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvbiwKICAgICAgICBvcGVyYXRvcjogb3BlcmF0b3IKICAgICAgfTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBDYWxjdWxhdGVWYWx1ZXMoY2FsY3VsYXRpb24sIGosIHVwZGF0ZWRfdG9rZW5zLCBJdGVyYXRpb25TdGFydCwgZ2xvYmFsKSB7CiAgLy8KICB2YXIgZmxhZyA9IDA7CiAgdmFyIGVycm9yID0gJyc7CiAgdmFyIGNhbGN1bGF0aW9uQXJyYXkgPSBTcGxpdEVsZW1lbnRzQXJyYXkoY2FsY3VsYXRpb24sIGopOwogIHZhciBTdHJpbmdWYXIgPSBTZXRWYWx1ZXMoY2FsY3VsYXRpb25BcnJheSwgdXBkYXRlZF90b2tlbnMpOwogIHZhciBqb2luU3RyaW5nVmFyID0gU3RyaW5nVmFyLmpvaW4oJycpOwogIHZhciBOZXdTdHJpbmdWYXIgPSAnJzsKCiAgaWYgKGlzTnVtYmVyKGpvaW5TdHJpbmdWYXIuY2hhckF0KDApKSA9PSB0cnVlKSB7CiAgICBOZXdTdHJpbmdWYXIgPSBldmFsKGpvaW5TdHJpbmdWYXIpOwogIH0gZWxzZSBpZiAoaXNOdW1iZXIoam9pblN0cmluZ1Zhci5jaGFyQXQoMCkpID09IHVuZGVmaW5lZCkgewogICAgU3RyaW5nVmFyLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgIGlmIChlbCAhPSAnKycpIHsKICAgICAgICBlbCA9IGVsLnRvU3RyaW5nKCk7CiAgICAgICAgTmV3U3RyaW5nVmFyID0gTmV3U3RyaW5nVmFyICsgZWw7CiAgICAgIH0KICAgIH0pOwogIH0gZWxzZSB7CiAgICBTdHJpbmdWYXIgPSBTdHJpbmdWYXI7CiAgfQoKICByZXR1cm4gU3RyaW5nVmFyLmxlbmd0aCA+IDEgPyBOZXdTdHJpbmdWYXIgOiBTdHJpbmdWYXI7Cn0KCmZ1bmN0aW9uIFB1c2hTZXRBcnJheUluZGV4VmFsdWUodmFsdWUsIHRva2VucywgZGF0YSwgaSkgewogIHRva2Vucy5wdXNoKHsKICAgIHR5cGU6ICJTZXRBcnJheUluZGV4VmFsdWUiLAogICAgdmFsdWU6IHZhbHVlLAogICAgVmFsdWVUb1NldDogZGF0YVtpICsgMl0gLy9za2lwcGluZyA9CgogIH0pOwp9CgpmdW5jdGlvbiBQdXNoR2V0QXJyYXlJbmRleFZhbHVlKHZhbHVlLCB0b2tlbnMsIGRhdGEsIGkpIHsKICB0b2tlbnMucHVzaCh7CiAgICB0eXBlOiAiR2V0QXJyYXlJbmRleFZhbHVlIiwKICAgIHZhbHVlOiB2YWx1ZQogIH0pOwp9CgpmdW5jdGlvbiBDcmVhdGVBcnJheUVsZW1lbnQoVmFsdWUsIGl0ZXJhdG9yKSB7CiAgdmFyIEFycmF5RWxlbWVudCA9IFJlbW92ZUJyYWNrZXRzKFZhbHVlKTsgLy9TZXByYXRpbmcgb3V0IGluZGV4IGlkZW50aWZpZXIuIHh5eiBmcm9tIEFycmF5W3h5el0KCiAgdmFyIGVsZW1lbnQgPSBBcnJheUVsZW1lbnQ7CiAgZWxlbWVudCA9IGVsZW1lbnQucmVwbGFjZSgnXScsICcnKTsKICB2YXIgU3BsaXQgPSBlbGVtZW50LnNwbGl0KCdbJyk7IC8vCgogIFNwbGl0WzFdID0gaXRlcmF0b3I7CiAgU3BsaXQgPSBTcGxpdC5qb2luKCdbJyk7IC8vCgogIFNwbGl0ID0gU3BsaXQgKyAnXSc7CiAgQXJyYXlFbGVtZW50ID0gU3BsaXQ7CiAgQXJyYXlFbGVtZW50ID0gQXJyYXlFbGVtZW50LnJlcGxhY2UoLycgJy9nLCAnJyk7CiAgcmV0dXJuIEFycmF5RWxlbWVudDsKfSAvL1RoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBnZXQgYXJyYXkgb3Igc3RyaW5nIGVsZW1lbnRzLiBlLmcgQXJyYXlbMl0sIFN0cmluZ1s1XSAKLy9IZWF2aWx5IHVzZWQgaW4gRm9ybG9vcCBtb2R1bGUKCgpmdW5jdGlvbiBTZXRBcnJheW9yU3RyaW5nRWxlbWVudChBcnJheUVsZW1lbnQsIHVwZGF0ZWRfdG9rZW5zLCBpdGVyYXRvciwgTmV3VmFsdWUsIHRva2VucykgewogIC8vCiAgQXJyYXlFbGVtZW50ID0gQXJyYXlFbGVtZW50LnJlcGxhY2UoJ10nLCAnJyk7CiAgdmFyIFNwbGl0ID0gQXJyYXlFbGVtZW50LnNwbGl0KCdbJyk7CiAgdmFyIGluZGV4Q29sbGVjdGVkID0gU3BsaXRbMV07CiAgdmFyIEVsZW1lbnQgPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgcmV0dXJuIGVsLm5hbWUgPT0gTmV3VmFsdWU7CiAgfSk7IC8vSWYgZWxlbWVudCBpcyBhbiBhc3NpZ25lZCB2YXJpYWJsZS4gRmluZCB0aGUgdmFsdWUgYW5kIHNldCBpdC4KCiAgaWYgKEVsZW1lbnQpIHsKICAgIGlmIChpc0NhbGN1bGF0aW9uKE5ld1ZhbHVlKSkgewogICAgICAvLyBUaGlzIGlzIHRvIHNldCB4PSB5KjEwMCwgQXJyYXlbaV09IHgrYWdlb25lLiAKICAgICAgdmFyIF90b2tlbiA9IHRva2Vucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC52YWx1ZSA9PSBOZXdWYWx1ZTsKICAgICAgfSk7CgogICAgICB2YXIgaiA9IHRva2Vucy5pbmRleE9mKF90b2tlbikgLSAxOwoKICAgICAgdmFyIF92YWx1ZSA9IENhbGN1bGF0ZVZhbHVlcyhOZXdWYWx1ZSwgaiwgdXBkYXRlZF90b2tlbnMpOwoKICAgICAgTmV3VmFsdWUgPSBfdmFsdWU7CiAgICB9CgogICAgTmV3VmFsdWUgPSBFbGVtZW50LnZhbHVlOwogIH0KCiAgaWYgKGl0ZXJhdG9yID09IHRydWUpIHsKICAgIC8vZm9yIEFycmF5W2FdPWEKICAgIGlmIChpc0NhbGN1bGF0aW9uKE5ld1ZhbHVlKSkge30gZWxzZSB7CiAgICAgIE5ld1ZhbHVlID0gaW5kZXhDb2xsZWN0ZWQ7CiAgICB9CiAgfSAvL2lmIGZyZXNoIG5ld3ZhbHVlIGlzIGZvdW1kLiB0aGUgb25lIHdoaWNoIGRvZXNudCB5ZXQgZXhpc3QgaW4gdGhlIHByb2dyYW0sIHRoZW4gcnVuIHRoaXMuCiAgZWxzZSB7CiAgICAgIE5ld1ZhbHVlID0gTmV3VmFsdWU7CiAgICB9CgogIHZhciB0b2tlbiA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwubmFtZSA9PSBTcGxpdFswXTsKICB9KTsKICB2YXIgaW5kZXggPSB1cGRhdGVkX3Rva2Vucy5pbmRleE9mKHRva2VuKTsgLy91cGRhdGVkX3Rva2VucyB2YWx1ZXMgd2lsbCBhbHNvIGdldCB1cGRhdGVkIHRocnVnaCB0aGlzIHJlZmVyZW5jZQoKICB2YXIgdmFsdWUgPSB0b2tlbi52YWx1ZTsKICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7CiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCddJywgJycpOwogIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnWycsICcnKTsKICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcsJyk7CgogIGlmIChpdGVyYXRvciA9PSB0cnVlKSB7CiAgICAvL1RoaXMgaXMgZm9yIEFycmF5W2FdPWEKICAgIHZhbHVlW2luZGV4Q29sbGVjdGVkXSA9IGluZGV4Q29sbGVjdGVkOwogIH0gZWxzZSB7CiAgICAvL1J1biB3aGVuIGl0ZXJhdG9yIGlzIG5vdCBuZWVkZWQuIGl0ZXJhdG9yIGlzIHByZXNlbnQgaW4gQXJyYXlFbGVNRU5UIEFMUkVBRFkuIFRoaXMgaXMgZm9yIEFycmF5W2ldPSdTd2FuYW5kJwogICAgdmFsdWVbaW5kZXhDb2xsZWN0ZWRdID0gTmV3VmFsdWU7CiAgfSAvL2NvbnZlcnRpbmcgYXJyYXkgYmFjayBpbnRvIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaXQgZm9yIGJldHRlciBwcmludGFiaWxsaXR5CgoKICB1cGRhdGVkX3Rva2Vuc1tpbmRleF0udmFsdWUgPSAnWycgKyB2YWx1ZS50b1N0cmluZygpICsgJ10nOwp9CgpmdW5jdGlvbiBQcmludEFycmF5RWxlbWVudChBcnJheUVsZW1lbnQsIHVwZGF0ZWRfdG9rZW5zKSB7CiAgQXJyYXlFbGVtZW50ID0gQXJyYXlFbGVtZW50LnJlcGxhY2UoJ10nLCAnJyk7CiAgdmFyIFNwbGl0ID0gQXJyYXlFbGVtZW50LnNwbGl0KCdbJyk7CiAgdmFyIGluZGV4Q29sbGVjdGVkID0gU3BsaXRbMV07CiAgdmFyIHRva2VuID0gdXBkYXRlZF90b2tlbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgIHJldHVybiBlbC5uYW1lID09IFNwbGl0WzBdOwogIH0pOwogIHZhciB2YWx1ZSA9IHRva2VuLnZhbHVlOwogIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnXScsICcnKTsKICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJ1snLCAnJyk7CiAgdmFsdWUgPSB2YWx1ZS5zcGxpdCgnLCcpOwogIHJldHVybiB2YWx1ZVtpbmRleENvbGxlY3RlZF07Cn0KCmZ1bmN0aW9uIEdldEFycmF5b3JTdHJpbmdFbGVtZW50KGVsZW1lbnQsIHVwZGF0ZWRfdG9rZW5zLCBOZXdWYWx1ZSwgZmxhZykgewogIGVsZW1lbnQgPSBlbGVtZW50LnJlcGxhY2UoJ10nLCAnJyk7CiAgdmFyIFNwbGl0ID0gZWxlbWVudC5zcGxpdCgnWycpOwogIHZhciBpbmRleENvbGxlY3RlZCA9IFNwbGl0WzFdOwoKICBpZiAoaXNOdW1iZXIoaW5kZXhDb2xsZWN0ZWQpKSB7CiAgICB2YXIgdG9rZW4gPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICByZXR1cm4gZWwubmFtZSA9PSBTcGxpdFswXTsKICAgIH0pOwogICAgdmFyIGluZGV4ID0gdXBkYXRlZF90b2tlbnMuaW5kZXhPZih0b2tlbik7CiAgICB2YXIgdmFsdWUgPSB0b2tlbi52YWx1ZS50b1N0cmluZygpOwoKICAgIGlmICh0b2tlbi50eXBlID09ICdBcnJheScpIHsKICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCddJywgJycpOwogICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoJ1snLCAnJyk7CiAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJywnKTsKCiAgICAgIGlmIChOZXdWYWx1ZSAhPSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAoIWlzTnVtYmVyKE5ld1ZhbHVlKSkgewogICAgICAgICAgTmV3VmFsdWUgPSBOZXdWYWx1ZS5yZXBsYWNlKC8iL2csICcnKTsKICAgICAgICAgIE5ld1ZhbHVlID0gTmV3VmFsdWUucmVwbGFjZSgv4oCcL2csICcnKTsKICAgICAgICAgIE5ld1ZhbHVlID0gTmV3VmFsdWUucmVwbGFjZSgvJy9nLCAnJyk7CiAgICAgICAgICBOZXdWYWx1ZSA9IE5ld1ZhbHVlLnJlcGxhY2UoL+KAmC9nLCAnJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIE5ld1ZhbHVlID0gTmV3VmFsdWU7CiAgICAgICAgfQoKICAgICAgICB2YWx1ZVtpbmRleENvbGxlY3RlZF0gPSBOZXdWYWx1ZTsKICAgICAgICB1cGRhdGVkX3Rva2Vuc1tpbmRleF0udmFsdWUgPSB2YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YWx1ZSA9IHZhbHVlW2luZGV4Q29sbGVjdGVkXTsgLy8vLy8vCiAgICAgICAgLy8vLy8vCiAgICAgIH0KICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PSAnc3RyaW5nJyB8fCB0b2tlbi50eXBlICE9ICdBcnJheScpIHsKICAgICAgdmFsdWUgPSB2YWx1ZS5jaGFyQXQoaW5kZXhDb2xsZWN0ZWQpOwogICAgfQoKICAgIHJldHVybiB2YWx1ZTsKICB9Cn0KCmZ1bmN0aW9uIEZvckxvb3BBcnJheW9yU3RyaW5nT3V0cHV0KGVsZW1lbnRWYWx1ZSwgaXRlcmF0b3IsIHVwZGF0ZWRfdG9rZW5zLCBnbG9iYWwpIHsKICB2YXIgQ3VycmVudEVsZW1lbnQgPSAnJzsKICBDdXJyZW50RWxlbWVudCA9IGVsZW1lbnRWYWx1ZS5uYW1lICsgJ1snICsgaXRlcmF0b3IgKyAnXSc7IC8vRm91bmR2YWx1ZSBpcyBkZWNpZGVkIGluIHRoZSBmdW5jdGlvbiBkZXBlbmRpbmcgdXBvbiB0aGUgdHlwZS4gCiAgLy9pZiBpdCdzIGFycmF5IHJ1biBhcnJheVsyXSwgaWYgaXRzIHN0cmluZyBydW4gc3RyaW5nLmNoYXJBdCgyKQoKICB2YXIgRm91bmRWYWx1ZSA9IEdldEFycmF5b3JTdHJpbmdFbGVtZW50KEN1cnJlbnRFbGVtZW50LCB1cGRhdGVkX3Rva2Vucyk7CiAgZ2xvYmFsLm91dHB1dCA9IGdsb2JhbC5vdXRwdXQgKyBGb3VuZFZhbHVlICsgIlxuIjsKfQoKZnVuY3Rpb24gaXNOdW1iZXIoZWxlbWVudCkgewogIGlmICgvXlswLTldKiQvZ20udGVzdChlbGVtZW50KSkgewogICAgcmV0dXJuIHRydWU7CiAgfQp9Cgo7CgpmdW5jdGlvbiBTcGxpdEVsZW1lbnRzQXJyYXkoZWxlbWVudCwgaSkgewogIC8vcmVtb3ZpbmcgdGhlICIoIiIgYW5kICIpIgogIC8vIGVsZW1lbnQgPSBSZW1vdmVCcmFja2V0cyhlbGVtZW50KQoKICAvKnNlcGVyYXRlIGV4ZWN1dGlvbgogIGlmKGVsZW1lbnQuaW5jbHVkZXMoJyYmJykgfHwgZWxlbWVudC5pbmNsdWRlcygnfHwnKSkKICAgICAgewogICAgICAgICAgIAogICAgICAgICAgIGVsZW1lbnQ9ZWxlbWVudC5yZXBsYWNlKC8gL2csJycpCiAgICAgICAgICAgICAKICAgICAgICAgIGxldCBDb25kaXRpb25BcnJheT1lbGVtZW50LnNwbGl0KCcmJicpOwogICAgICAgICBsZXQgQ29uZGl0aW9uQXJyYXl3aXRoVmFsdWVzPVtdCiAgICAgICAgIAogICAgICAgICAgQ29uZGl0aW9uQXJyYXkuZm9yRWFjaCgoZWxlbWVudCxpKT0+ewogICAgICAgICAgICAgCiAgICAgICAgICAgQ29uZGl0aW9uQXJyYXl3aXRoVmFsdWVzLnB1c2goRmluZENvbmRpdGlvblZhbHVlKGVsZW1lbnQpKSAgIAogICAgICAgICAgIH0pCiAgICAgICAgcmV0dXJuIENvbmRpdGlvbkFycmF5d2l0aFZhbHVlcwogICAgICAgfQogICovCiAgcmV0dXJuIEZpbmRDb25kaXRpb25WYWx1ZShlbGVtZW50KTsKfQoKZnVuY3Rpb24gU2V0VmFsdWVzKFN0cmluZ1ZhciwgdXBkYXRlZF90b2tlbnMpIHsKICBTdHJpbmdWYXIuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGkpIHsKICAgIGVsID0gZWwucmVwbGFjZSgvXCAvZywgJycpOwoKICAgIGlmIChlbC5jaGFyQXQoZWwubGVuZ3RoIC0gMSkgPT0gJ10nKSB7CiAgICAgIHZhciBBcnJheUVsZW1lbnRWYWx1ZSA9IEdldEFycmF5b3JTdHJpbmdFbGVtZW50KGVsLCB1cGRhdGVkX3Rva2Vucyk7CiAgICAgIEFycmF5RWxlbWVudFZhbHVlID0gQXJyYXlFbGVtZW50VmFsdWUucmVwbGFjZSgvWyciXSsvZywgJycpOwogICAgICBTdHJpbmdWYXJbaV0gPSBBcnJheUVsZW1lbnRWYWx1ZTsKICAgIH0gLy9maW5kaW5nIHZhcmlhYmxlIHZhbHVlcyBoZXJlIAoKCiAgICB2YXIgdG9rZW4gPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50Lm5hbWUgPT0gZWw7CiAgICB9KTsgLy8vLy8vLy8KICAgIC8vIC8vLy8vLwoKICAgIGlmICh0b2tlbiAhPSB1bmRlZmluZWQpIHsKICAgICAgLy8gaWYgZXhpc3RzIHNldCBpdCdzIHZhbHVlIAogICAgICBTdHJpbmdWYXJbaV0gPSB0b2tlbi52YWx1ZTsKICAgIH0gLy8gLy8vLy8vCgogIH0pOwogIHJldHVybiBTdHJpbmdWYXI7Cn0gLy9BTkNIT1IgCi8vTm93IHdlIGhhZSBjb252ZXJ0ZWQgZm91bmQgImFubmErYmFkLWQiIGludG8gW2FubmEsKyxiYWQsLSxkXQovL05vdyBsZXRzIHJ1biBhIGxvb3BzIG9uIGl0IHRvIGNvbnZlcnQgaW50byBbNSwrLDYsLSw3XQovL2dsb2JhbCBpcyBpbXBvcnRhbnQKLy9VcGRhdGVkX3Rva2VucyBpcyB1cGRhdGVkIGJ5IHJlcGxhY2luZyAidmFsdWU6YW5uYStiYWQtZCIgd2l0aCAidmFsdWU6NSs2LTciLiAKLy9hZnRlciBldmFsIGZ1bmN0aW9uIGl0IHdpbGwgYmUgc2V0IGFzICJ2YWx1ZToyIgoKCmZ1bmN0aW9uIFVwZGF0ZVVwZGF0ZWRfdG9rZW5zd2l0aFZhbHVlcyhwYXlsb2FkLCBpLCB1cGRhdGVkX3Rva2VucykgewogIHZhciBTdHJpbmdWYXIgPSBwYXlsb2FkOyAvL3J1biBpZiBpdCdzIGFyaXRobWV0aWMgb3BlcmF0aW9uIGxpa2UgWyI1KzYtNyJdCgogIGlmIChpc051bWJlcihTdHJpbmdWYXJbMF0pKSB7CiAgICB2YXIgdmFsdWUgPSBldmFsKFN0cmluZ1Zhci5qb2luKCcnKSk7CiAgICByZXR1cm4gdmFsdWU7CiAgfSBlbHNlIGlmIChTdHJpbmdWYXJbMV0gPT0gJz09JykgewogICAgdmFyIGEgPSBTdHJpbmdWYXJbMF0udG9TdHJpbmcoKTsKICAgIHZhciBiID0gU3RyaW5nVmFyWzJdLnRvU3RyaW5nKCk7CgogICAgdmFyIF92YWx1ZTIgPSBldmFsKGEgPT0gYik7CgogICAgcmV0dXJuIF92YWx1ZTI7CiAgfSAvL3J1biBpZiBpdCdzIFN0cmluZyBvcGVyYXRpb24gbGlrZSBbInN3YW5hbmQga2FkYW0iLCIrIiwgImlzIGdvYXQiXQogIGVsc2UgewogICAgICBpZiAoU3RyaW5nVmFyLmluY2x1ZGVzKCIrIikpIHsKICAgICAgICBTdHJpbmdWYXJbU3RyaW5nVmFyLmluZGV4T2YoIisiKV0gPSAiICI7CiAgICAgIH0KCiAgICAgIHZhciBfdmFsdWUzID0gU3RyaW5nVmFyLmpvaW4oIiIpOwoKICAgICAgcmV0dXJuIF92YWx1ZTM7CiAgICB9Cn0gLy9IYW5kbGUgQmxvY2tzIGlzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgY2FyZSBvZiBuZXN0ZWQgYmxvY2sgYnkgdGFraW5nIGNhcmUgb2YgbmVzdGVkIHsgYW5kIH0gYnJhY2tldHMKLy9pdCB1c2VzIHRoZSBzdGFjayB0byBwdXNoIGFuZCBwb3AgYnJhY2tldHMgdG8gYWNjdXJhdGVseSBpZGVudGlmeSBzdGFydCBhbmQgdGhlIGVuZCBvZiB0aGUgYmxvY2sKCgpmdW5jdGlvbiBIYW5kbGVCbG9ja3MobXV0YWJsZV90b2tlbnMsIGosIFN0b3JlUmVzdWx0KSB7CiAgLy9TdG9yZVJlc3VsdCBpcyB1c2VkIHRvIHB1c2ggZGF0YSBpbnRvIGl0IGluIGNhc2Ugb2YgZm9ybG9vcCBvciB3aGlsZSBsb29wIGNvbmV0ZXh0CiAgLy9mb3IgYSBub3JtYWwgYmxvY2sgbGlrZSBjb25kaXRpb25hbCBibG9jayBpdCBtaWdodCBub3QgbmVlZCB0byBiZSB1c2VkIHlldAogIHZhciBBcnJheUJyYWNrZXRzID0gW107CgogIHdoaWxlICh0cnVlKSB7CiAgICBpZiAobXV0YWJsZV90b2tlbnNbal0udmFsdWUgPT0gJ3snKSB7CiAgICAgIEFycmF5QnJhY2tldHMucHVzaCh7CiAgICAgICAgdHlwZTogJ3snLAogICAgICAgIGluZGV4OiBqCiAgICAgIH0pOyAvLwoKICAgICAgaWYgKFN0b3JlUmVzdWx0ICE9IHVuZGVmaW5lZCkgewogICAgICAgIFN0b3JlUmVzdWx0LnB1c2gobXV0YWJsZV90b2tlbnNbal0pOwogICAgICB9CiAgICB9IGVsc2UgaWYgKG11dGFibGVfdG9rZW5zW2pdLnZhbHVlID09ICd9JykgewogICAgICAvL0FzIHNvb24gYXMgb3BlbiBicmFja2V0IGlzIGZvdW5kLCBwb3AgdGhlIGxhc3QgYXJyYXlicmFja2V0IHN0YWNrIHZhbHVlCiAgICAgIC8vdGhhdCdzIHRoZSBtYXRjaAogICAgICB2YXIgeCA9IEFycmF5QnJhY2tldHMucG9wKCk7IC8vCgogICAgICBpZiAoU3RvcmVSZXN1bHQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgU3RvcmVSZXN1bHQucHVzaChtdXRhYmxlX3Rva2Vuc1tqXSk7CiAgICAgICAgbXV0YWJsZV90b2tlbnNbeC5pbmRleF0uc3RhcnRJbmRleCA9IHguaW5kZXg7CiAgICAgICAgbXV0YWJsZV90b2tlbnNbeC5pbmRleF0uRW5kSW5kZXggPSBqOwogICAgICB9IC8vc2V0IHN0YXJ0IGFuZCBlbmQgaW5kZXggdmFsdWUgZm9yIHRoYXQgeyB9IGJsb2NrCgoKICAgICAgbXV0YWJsZV90b2tlbnNbeC5pbmRleF0uc3RhcnRJbmRleCA9IHguaW5kZXg7CiAgICAgIG11dGFibGVfdG9rZW5zW3guaW5kZXhdLkVuZEluZGV4ID0gajsKCiAgICAgIGlmIChBcnJheUJyYWNrZXRzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgLy9BcyBzb29uIGFzIHN0YWNrIGlzIGVtcHR5IHdlIGhhdmUgZmluaXNoZWQgb3VyIGxhc3QgbGJsb2NrCiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChTdG9yZVJlc3VsdCAhPSB1bmRlZmluZWQpIHsKICAgICAgICBTdG9yZVJlc3VsdC5wdXNoKG11dGFibGVfdG9rZW5zW2pdKTsKICAgICAgfQogICAgfQoKICAgIGorKzsKICB9CgogIHJldHVybiB7CiAgICBTdG9yZVJlc3VsdDogU3RvcmVSZXN1bHQsCiAgICBqOiBqCiAgfTsKfQoKZnVuY3Rpb24gSGFuZGxlQ29uZGl0aW9ucyhzb3VyY2VkYXRhLCBpLCB1cGRhdGVkX3Rva2VucykgewogIHZhciBlbGVtZW50ID0gc291cmNlZGF0YVtpXS52YWx1ZTsgLy8KICAvLwogIC8vbGV0IHRva2VuPSB1cGRhdGVkX3Rva2Vucy5maW5kKGVsPT4gZWwub3JpZ2luYWx2YWx1ZT09c291cmNlZGF0YVtpXS52YWx1ZSkKCiAgdmFyIFNwbGl0QXJyYXkgPSBTcGxpdEVsZW1lbnRzQXJyYXkoZWxlbWVudCwgaSk7CiAgdmFyIFZhbHVlcyA9IFNldFZhbHVlcyhTcGxpdEFycmF5LCB1cGRhdGVkX3Rva2Vucyk7CiAgdmFyIEZvckxvb3BDb25kaXRpb25WYWx1ZSA9IFVwZGF0ZVVwZGF0ZWRfdG9rZW5zd2l0aFZhbHVlcyhWYWx1ZXMsIHVwZGF0ZWRfdG9rZW5zLCBpKTsKCiAgaWYgKEZvckxvb3BDb25kaXRpb25WYWx1ZSA9PSBmYWxzZSkgewogICAgd2hpbGUgKHNvdXJjZWRhdGFbaSArIDFdLnZhbHVlICE9ICd9JykgewogICAgICAvLyAKICAgICAgLy90b2tlbnMuc3BsaWNlKGkrMSwgMSk7CiAgICAgIC8vTm8gbmVlZCB0byBkZWxldGUgdG9rZW5zLCB3ZSBhcmUgaXVzdCBza2lwcGluZyBvdmVyIHRoZSB2YWx1ZXMgc28gdGhhdCB0aGV5IHdvbid0IGJlIHByaW50ZWQgb3IgcnVuCiAgICAgIC8vCiAgICAgIGkrKzsKICAgIH0gLy8gCgoKICAgIHJldHVybiBpOwogIH0KfQoKZnVuY3Rpb24gU3BsaXRhbmRKb2luKGFycmF5LCBvdXRwdXQsIGVsZW1lbnQpIHsKICBhcnJheVsxXSA9IG91dHB1dDsKICB2YXIgSm9pbmFycmF5ID0gYXJyYXkuam9pbignWycpICsgJ10nOwogIGVsZW1lbnQgPSBKb2luYXJyYXk7CiAgcmV0dXJuIGVsZW1lbnQ7Cn0KCnZhciBBY2N1bXVsYXRlVmFsdWUgPSAnJzsKCmZ1bmN0aW9uIFJlc2V0VmFsdWUoKSB7CiAgQWNjdW11bGF0ZVZhbHVlID0gJyc7Cn0KCmZ1bmN0aW9uIEFzc2lnbm9yVXBkYXRlVmFsdWVzKHNvdXJjZWRhdGEsIGksIHVwZGF0ZWRfdG9rZW5zLCBpdGVyYXRvciwgT3JpZ2luYWxJdGVyYXRvciwgZ2xvYmFsKSB7CiAgLy8KICB2YXIgdmFyaWFibGUgPSBzb3VyY2VkYXRhW2kgLSAxXS52YWx1ZTsKICB2YXIgdmFyaWFibGVUeXBlID0gc291cmNlZGF0YVtpIC0gMV0udHlwZTsgLy8KCiAgdmFyIHZhcnZhbHVlID0gc291cmNlZGF0YVtpICsgMV0udmFsdWU7CgogIGlmICh2YXJ2YWx1ZSA9PSAnIicgfHwgdmFydmFsdWUgPT0gIiciKSB7CiAgICB2YXJ2YWx1ZSA9ICcgJzsKICB9CgogIGlmICh2YXJ2YWx1ZS5pbmNsdWRlcygn4KSm4KWB4KS54KSw4KS+4KSTJykgfHwgdmFydmFsdWUuaW5jbHVkZXMoJ+CksOCkmuCkqOCkvicpIHx8IHZhcnZhbHVlLmluY2x1ZGVzKCfgpIXgpKjgpY3gpK/gpKXgpL4nKSB8fCB2YXJ2YWx1ZS5pbmNsdWRlcygn4KSH4KSo4KSq4KWB4KSfJykgfHwgdmFydmFsdWUuaW5jbHVkZXMoJ+CkquClgeCkticpIHx8IHZhcnZhbHVlLmluY2x1ZGVzKCfgpKrgpY3gpLDgpL/gpILgpJ8nKSB8fCB2YXJ2YWx1ZS5pbmNsdWRlcygn4KSF4KSX4KSwJykpIHsKICAgIHZhciBlcnJvciA9ICdBc3NpZ25tZW50IGVycm9yIGluICcgKyAnIicgKyB2YXJpYWJsZSArICcgPSAnICsgJyInOwogICAgZ2xvYmFsLmVycm9yLnB1c2goZXJyb3IpOwogIH0KCiAgdmFyIHZhcnZhbHVlVHlwZSA9IHNvdXJjZWRhdGFbaSArIDFdLnR5cGU7CiAgdmFyIHggPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCwgaSkgewogICAgcmV0dXJuIGVsLm5hbWUgPT0gdmFydmFsdWU7CiAgfSk7CgogIGlmICghaXNOdW1iZXIodmFydmFsdWUpICYmIHZhcnZhbHVlVHlwZSA9PSAndmFsdWUnICYmIHggPT0gdW5kZWZpbmVkICYmIHZhcnZhbHVlICE9ICcgJyAmJiAhaXNFbXB0eVN0cmluZ29yQ2hhcih2YXJ2YWx1ZSkpIHsKICAgIGdsb2JhbC5lcnJvci5wdXNoKCdDYW5ub3Qgc2V0ICcgKyB2YXJpYWJsZSArICcgdG8gdW5kZWZpbmVkICcgKyAnOiAnICsgdmFydmFsdWUgKyAnIGlzIHVuZGVmaW5lZCAnKTsKICB9IGVsc2UgaWYgKHZhcnZhbHVlLmluY2x1ZGVzKCfgpLjgpILgpJbgpY3gpK/gpL4nKSkgewogICAgdmFyIF9TcGxpdCA9IHZhcnZhbHVlLnNwbGl0KCcuJyk7CgogICAgY29uc29sZS5sb2coJ3ZhcnZhbHVlOiAnLCB2YXJ2YWx1ZSk7CiAgICB2YXIgaXRlbSA9IF9TcGxpdFswXTsKICAgIHZhciBJdGVtdmFsdWUgPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICByZXR1cm4gZWwubmFtZSA9PSBpdGVtOwogICAgfSkudmFsdWU7CiAgICBjb25zb2xlLmxvZyhfdHlwZW9mKEl0ZW12YWx1ZSkpOwoKICAgIGlmIChJdGVtdmFsdWUuaW5jbHVkZXMoJ1snKSkgewogICAgICBJdGVtdmFsdWUgPSBJdGVtdmFsdWUudG9TdHJpbmcoKS5zcGxpdCgnLCcpOwogICAgfSBlbHNlIGlmIChJdGVtdmFsdWUubGVuZ3RoID09IDEpIHsKICAgICAgSXRlbXZhbHVlID0gSXRlbXZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgSXRlbXZhbHVlID0gSXRlbXZhbHVlLnRvU3RyaW5nKCk7CiAgICB9CgogICAgdmFyIEl0ZW12YWx1ZUxlbmd0aCA9IEl0ZW12YWx1ZS5sZW5ndGg7CiAgICB1cGRhdGVkX3Rva2Vucy5wdXNoKHsKICAgICAgbmFtZTogdmFyaWFibGUsCiAgICAgIHZhbHVlOiBJdGVtdmFsdWVMZW5ndGgsCiAgICAgIGlkZW50aWZpZXI6IGksCiAgICAgIHR5cGU6ICdDYWxMZW5ndGgnCiAgICB9KTsKICB9IC8vCiAgLy8KICAvL3RoaXMgcnVucyBvbmx5IGZvciBvcGVyYXRpb25zIGxpa2UgeD1OdW1iZXJzW2FdCiAgZWxzZSBpZiAodmFydmFsdWVUeXBlID09ICdHZXRBcnJheUluZGV4VmFsdWUnKSB7CiAgICAgIHZhciBuID0gdXBkYXRlZF90b2tlbnMuZmluZChmdW5jdGlvbiAoZWwsIGkpIHsKICAgICAgICByZXR1cm4gZWwubmFtZSA9PSB2YXJpYWJsZTsKICAgICAgfSk7CiAgICAgIHZhciBpbmRleCA9IHVwZGF0ZWRfdG9rZW5zLmluZGV4T2Yobik7IC8vTnVtYmVyc1thIF0gTnVtYmVycyBbM10KICAgICAgLy9JdGVyYXRvciBpcyB1c2VkIG9ubHkgd2hlbiB3ZSBhcmUgbG9vcGluZyBvdmVyIHByb3ZpZGVkIGluZGV4IG5vdCBmb3IgdGhlIGluZGV4IHRoYXQgbmVlZHMgdG8gYmUgY2FsY3VsYXRlZAoKICAgICAgdmFyIGVsZW1lbnQgPSB2YXJ2YWx1ZS5yZXBsYWNlKCddJywgJycpOwoKICAgICAgaWYgKGVsZW1lbnQuaW5jbHVkZXMoJysnKSkgewogICAgICAgIHZhciBTcGxpdCA9IGVsZW1lbnQuc3BsaXQoJysnKTsKICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmluY2x1ZGVzKCctJykpIHsKICAgICAgICB2YXIgU3BsaXQgPSBlbGVtZW50LnNwbGl0KCctJyk7CiAgICAgIH0KCiAgICAgIHZhciBmbGFnID0gZmFsc2U7IC8vRm9yIG9wZXJhdGlvbnMgbGlrZSBOYW1lPU5hbWUrIEFycmF5W2ldCgogICAgICBpZiAoZWxlbWVudC5pbmNsdWRlcygnKycpIHx8IGVsZW1lbnQuaW5jbHVkZXMoJy0nKSAmJiAhU3BsaXRbMF0uaW5jbHVkZXMoJ1snKSkgewogICAgICAgIGZsYWcgPSB0cnVlOwoKICAgICAgICB2YXIgX3Rva2VuMiA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwubmFtZSA9PSBTcGxpdFswXTsKICAgICAgICB9KTsKCiAgICAgICAgdmFyIF9pbmRleCA9IHVwZGF0ZWRfdG9rZW5zLmluZGV4T2YoX3Rva2VuMik7CgogICAgICAgIHZhciBBcnJheUl0ZW0gPSBTcGxpdFsxXS5zcGxpdCgnWycpOwogICAgICAgIHZhciBvdXRwdXQgPSBDYWxjdWxhdGVWYWx1ZXMoQXJyYXlJdGVtWzFdLCBpLCB1cGRhdGVkX3Rva2Vucyk7CgogICAgICAgIHZhciBfQXJyYXlFbGVtZW50ID0gU3BsaXRhbmRKb2luKEFycmF5SXRlbSwgb3V0cHV0LCBlbGVtZW50KTsgLy9HZXQgTnVtYmVyc1szXSB2YWx1ZSBhbmQgbm93IHNldCBpdCB0byBvdXIgdmFyaWFibGUgeAoKCiAgICAgICAgdmFyIF92YWx1ZTQgPSBHZXRBcnJheW9yU3RyaW5nRWxlbWVudChfQXJyYXlFbGVtZW50LCB1cGRhdGVkX3Rva2Vucyk7CgogICAgICAgIEFjY3VtdWxhdGVWYWx1ZSArPSBfdmFsdWU0OwogICAgICAgIHVwZGF0ZWRfdG9rZW5zW19pbmRleF0udmFsdWUgPSBBY2N1bXVsYXRlVmFsdWU7IC8vCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIFNwbGl0ID0gZWxlbWVudC5zcGxpdCgnWycpOwogICAgICB9IC8vZm9yIG9wZXJhdGlvbnMgbGlrZSB4PSBBcnJheVtpKzFdIGV0YwoKCiAgICAgIGlmICgoU3BsaXRbMV0uaW5jbHVkZXMoJy0nKSB8fCBTcGxpdFsxXS5pbmNsdWRlcygnKycpKSAmJiAhU3BsaXRbMV0uaW5jbHVkZXMoJ1snKSkgewogICAgICAgIHZhciBfb3V0cHV0ID0gQ2FsY3VsYXRlVmFsdWVzKFNwbGl0WzFdLCBpLCB1cGRhdGVkX3Rva2Vucyk7CgogICAgICAgIGVsZW1lbnQgPSBTcGxpdGFuZEpvaW4oU3BsaXQsIF9vdXRwdXQsIGVsZW1lbnQpOwogICAgICB9CgogICAgICB2YXIgdG9rZW4gPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5uYW1lID09IFNwbGl0WzFdOwogICAgICB9KTsgLy9mb3Igb3BlcmF0aW9ucyBsaWtlIEFycmF5W0FnZV0uIEhlcmUgaW5kZXggaXMgYW4gYWxyZWFkeSBkZWZpbmVkIHZhcmlhYmxlCgogICAgICBpZiAodG9rZW4gIT0gdW5kZWZpbmVkICYmIE9yaWdpbmFsSXRlcmF0b3IgIT0gU3BsaXRbMV0gJiYgdG9rZW4ubmFtZSAhPSAnJykgewogICAgICAgIGVsZW1lbnQgPSBTcGxpdGFuZEpvaW4oU3BsaXQsIHRva2VuLnZhbHVlLCBlbGVtZW50KTsKICAgICAgfSAvL2ZvciBvcGVyYXRpb25zIGxpa2UgQXJyYXlbaV06IExvb3Bpbmcgb3ZlciBvcmlnaW5hbCBpbmRleCB2YWx1ZQogICAgICBlbHNlIGlmIChPcmlnaW5hbEl0ZXJhdG9yID09IFNwbGl0WzFdKSB7CiAgICAgICAgICBlbGVtZW50ID0gU3BsaXRhbmRKb2luKFNwbGl0LCBpdGVyYXRvciwgZWxlbWVudCk7CiAgICAgICAgfQoKICAgICAgdmFyIEFycmF5RWxlbWVudCA9IGVsZW1lbnQ7IC8vR2V0IE51bWJlcnNbM10gdmFsdWUgYW5kIG5vdyBzZXQgaXQgdG8gb3VyIHZhcmlhYmxlIHgKCiAgICAgIHZhciB2YWx1ZSA9IEdldEFycmF5b3JTdHJpbmdFbGVtZW50KEFycmF5RWxlbWVudCwgdXBkYXRlZF90b2tlbnMpOwoKICAgICAgaWYgKG4gIT0gdW5kZWZpbmVkICYmIGZsYWcgPT0gZmFsc2UpIHsKICAgICAgICB1cGRhdGVkX3Rva2Vuc1tpbmRleF0udmFsdWUgPSB2YWx1ZTsKICAgICAgfSBlbHNlIGlmIChmbGFnID09IGZhbHNlKSB7CiAgICAgICAgdXBkYXRlZF90b2tlbnMucHVzaCh7CiAgICAgICAgICBuYW1lOiB2YXJpYWJsZSwKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGlkZW50aWZpZXI6IGksCiAgICAgICAgICB0eXBlOiBzb3VyY2VkYXRhW2kgKyAxXS50eXBlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZhciBtID0gdXBkYXRlZF90b2tlbnMuZmluZChmdW5jdGlvbiAoZWwsIGkpIHsKICAgICAgICByZXR1cm4gZWwubmFtZSA9PSB2YXJ2YWx1ZTsKICAgICAgfSk7CgogICAgICBpZiAobSAhPSB1bmRlZmluZWQpIHsKICAgICAgICB2YXJ2YWx1ZSA9IG0udmFsdWU7IC8vIAogICAgICB9CgogICAgICB2YXIgX24gPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCwgaSkgewogICAgICAgIHJldHVybiBlbC5uYW1lID09IHZhcmlhYmxlOwogICAgICB9KTsKCiAgICAgIGlmIChfbiA9PSB1bmRlZmluZWQpIHsKICAgICAgICAvL3RvIGNoZWNrIGlmIHRoZSBhc3NpZ25lZCB2YWx1ZSBuZWVkcyB0byBiZSBjYWxjdWxhdGVkLiB0aGlzIGlzIGZ1dGhlciBkaXZlZGVkIGluIHR3byB0eXBlcwogICAgICAgIGlmIChpc0NhbGN1bGF0aW9uKHZhcnZhbHVlKSkgewogICAgICAgICAgLy90eXBlIDEtIEFnZT0gMjAyMC0yMDAwIAogICAgICAgICAgaWYgKGlzUHVyZUV2YWwodmFydmFsdWUpKSB7CiAgICAgICAgICAgIHZhciBfdmFsdWU1ID0gZXZhbCh2YXJ2YWx1ZSk7IC8vd3JpdGUgZnVuY3Rpb24gZm9yIHRoaXMsIHNvIHJlcGVhdGFibGUKCgogICAgICAgICAgICB1cGRhdGVkX3Rva2Vucy5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiB2YXJpYWJsZSwKICAgICAgICAgICAgICB2YWx1ZTogX3ZhbHVlNSwKICAgICAgICAgICAgICBpZGVudGlmaWVyOiBpLAogICAgICAgICAgICAgIHR5cGU6IHNvdXJjZWRhdGFbaSArIDFdLnR5cGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IC8vdHlwZSAyLSBYPSBhZ2VvbmUrYWdldHdvCiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAvL3BlcmZvcm1pbmcgdGhlIGNhbGN1bGF0aW9uCiAgICAgICAgICAgICAgdmFyIF92YWx1ZTYgPSBDYWxjdWxhdGVWYWx1ZXModmFydmFsdWUsIGksIHVwZGF0ZWRfdG9rZW5zLCBnbG9iYWwpOwoKICAgICAgICAgICAgICB1cGRhdGVkX3Rva2Vucy5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6IHZhcmlhYmxlLAogICAgICAgICAgICAgICAgdmFsdWU6IF92YWx1ZTYsCiAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBpLAogICAgICAgICAgICAgICAgdHlwZTogc291cmNlZGF0YVtpICsgMV0udHlwZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSAvL2lmIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsY3VsYXRlLCBwdXNoIHZhbHVlcyBhcyBpdCBpcwogICAgICAgIGVsc2UgaWYgKCFpc0NhbGN1bGF0aW9uKHZhcnZhbHVlKSkgewogICAgICAgICAgICB1cGRhdGVkX3Rva2Vucy5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiB2YXJpYWJsZSwKICAgICAgICAgICAgICB2YWx1ZTogdmFydmFsdWUsCiAgICAgICAgICAgICAgaWRlbnRpZmllcjogaSwKICAgICAgICAgICAgICB0eXBlOiBzb3VyY2VkYXRhW2kgKyAxXS50eXBlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICB9IC8vaWYgaXQncyBhbHJlYWR5IGFzc2dpbmVkLCByZWFzc2lnbiBpdCB3aXRoIHVwZGF0ZWQgdmFsdWUKICAgICAgZWxzZSB7CiAgICAgICAgICB2YXJ2YWx1ZSA9IHZhcnZhbHVlLnRvU3RyaW5nKCk7CgogICAgICAgICAgaWYgKHZhcnZhbHVlLmluY2x1ZGVzKCctJykgfHwgdmFydmFsdWUuaW5jbHVkZXMoJyUnKSB8fCB2YXJ2YWx1ZS5pbmNsdWRlcygnKycpIHx8IHZhcnZhbHVlLmluY2x1ZGVzKCcvJykgfHwgdmFydmFsdWUuaW5jbHVkZXMoJyonKSkgewogICAgICAgICAgICAvLyAKICAgICAgICAgICAgdmFyIE5ld1ZhbHVlID0gQ2FsY3VsYXRlVmFsdWVzKHZhcnZhbHVlLCBpLCB1cGRhdGVkX3Rva2VucywgZ2xvYmFsKTsKICAgICAgICAgICAgX24udmFsdWUgPSBOZXdWYWx1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBfaW5kZXgyID0gdXBkYXRlZF90b2tlbnMuaW5kZXhPZihfbik7CgogICAgICAgICAgICB1cGRhdGVkX3Rva2Vuc1tfaW5kZXgyXS52YWx1ZSA9IHZhcnZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgIH0gLy8gCgp9CgpmdW5jdGlvbiBHZXRDb25kaXRpb25WYWx1ZShlbGVtZW50LCB1cGRhdGVkX3Rva2VucywgaikgewogIHZhciBDb25kaXRpb25WYWx1ZSA9IGZhbHNlOwoKICBpZiAoZWxlbWVudC5pbmNsdWRlcygnJiYnKSB8fCBlbGVtZW50LmluY2x1ZGVzKCd8fCcpKSB7CiAgICB2YXIgTXVsdENvbmRpdGlvbnNDb3VudCA9IHBhcnNlSW50KENvdW50KCcmJywgZWxlbWVudCkpICsgcGFyc2VJbnQoQ291bnQoJ3wnLCBlbGVtZW50KSk7IC8vdGhpcyB3aWxsIGJlIG91ciBmaW5hbCB2YWx1ZXMKICAgIC8vY29udmVydGVkIGFzIHRydWUmJmZhbHNlJiZ0cnVlfHx0cnVlCgogICAgdmFyIEJ1aWx0TXVsdENvbmRpdG9uV2l0aFZhbHVlcyA9ICcnOwogICAgdmFyIExhc3RSZXN1bHQgPSB7fTsgLy9ydW5uaW5nIGZvciBsb29wIG9uIG9yaWdpbmFsIGNvbmRpdGlvbiB0byBjYWxjdWxhdGVzIGVhY2ggaW5kaXZpZHVhbCBjb25kaXRpb24gYW5kIGFkZGluZyBpdHMgdmFsdWUgaW4gQnVpbHRNdWx0Q29uZGl0b25XaXRoVmFsdWVzCgogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gTXVsdENvbmRpdGlvbnNDb3VudDsgaSsrKSB7CiAgICAgIGlmIChpID09IE11bHRDb25kaXRpb25zQ291bnQpIHsKICAgICAgICB2YXIgY29uZGl0aW9uID0gTGFzdFJlc3VsdC5Td2VlcGVkRWxlbWVudDsKICAgICAgICBjb25kaXRpb24gPSBjb25kaXRpb24ucmVwbGFjZSgvIC9nLCAnJyk7CiAgICAgICAgdmFyIFNwbGl0QXJyYXkgPSBTcGxpdEVsZW1lbnRzQXJyYXkoY29uZGl0aW9uLCBqKTsKICAgICAgICB2YXIgVmFsdWVzID0gU2V0VmFsdWVzKFNwbGl0QXJyYXksIHVwZGF0ZWRfdG9rZW5zKTsKICAgICAgICBDb25kaXRpb25WYWx1ZSA9IFVwZGF0ZVVwZGF0ZWRfdG9rZW5zd2l0aFZhbHVlcyhWYWx1ZXMsIHVwZGF0ZWRfdG9rZW5zLCBqKTsKICAgICAgICBCdWlsdE11bHRDb25kaXRvbldpdGhWYWx1ZXMgPSBCdWlsdE11bHRDb25kaXRvbldpdGhWYWx1ZXMgKyBDb25kaXRpb25WYWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcmVzdWx0ID0gaGFuZGxlbXVsdENvbmRpdGlvbnMoZWxlbWVudCk7CiAgICAgICAgTGFzdFJlc3VsdCA9IHJlc3VsdDsKICAgICAgICBlbGVtZW50ID0gcmVzdWx0LlN3ZWVwZWRFbGVtZW50OwogICAgICAgIHZhciBfY29uZGl0aW9uID0gcmVzdWx0LmNvbmRpdGlvbjsKICAgICAgICBfY29uZGl0aW9uID0gX2NvbmRpdGlvbi5yZXBsYWNlKC8gL2csICcnKTsKCiAgICAgICAgdmFyIF9TcGxpdEFycmF5ID0gU3BsaXRFbGVtZW50c0FycmF5KF9jb25kaXRpb24sIGopOyAvLwoKCiAgICAgICAgdmFyIF9WYWx1ZXMgPSBTZXRWYWx1ZXMoX1NwbGl0QXJyYXksIHVwZGF0ZWRfdG9rZW5zKTsgLy8gCgoKICAgICAgICBDb25kaXRpb25WYWx1ZSA9IFVwZGF0ZVVwZGF0ZWRfdG9rZW5zd2l0aFZhbHVlcyhfVmFsdWVzLCB1cGRhdGVkX3Rva2Vucywgaik7CiAgICAgICAgQnVpbHRNdWx0Q29uZGl0b25XaXRoVmFsdWVzID0gQnVpbHRNdWx0Q29uZGl0b25XaXRoVmFsdWVzICsgQ29uZGl0aW9uVmFsdWUgKyByZXN1bHQub3BlcmF0b3I7CiAgICAgIH0KICAgIH0gLy9zZXR0aW5nIHRoZSBmaW5hbCBjb25kaXRpb24gdmFsdWUgaW4gY2FzZXMgbGlrZSDgpIXgpJfgpLAgKGFnZW9uZT09MTAgJiYgQXZlcmFnZUFnZTwxMDAwICYmIGFnZXR3bz4xMDAgfHwgYWdlb25lPT0xMCkgCgoKICAgIENvbmRpdGlvblZhbHVlID0gZXZhbChCdWlsdE11bHRDb25kaXRvbldpdGhWYWx1ZXMpOwogIH0gZWxzZSB7CiAgICAvL2xldCB0b2tlbj0gdXBkYXRlZF90b2tlbnMuZmluZChlbD0+IGVsLm9yaWdpbmFsdmFsdWU9PW11dGFibGVfdG9rZW5zW2pdLnZhbHVlKQogICAgdmFyIF9TcGxpdEFycmF5MiA9IFNwbGl0RWxlbWVudHNBcnJheShlbGVtZW50LCBqKTsKCiAgICB2YXIgX1ZhbHVlczIgPSBTZXRWYWx1ZXMoX1NwbGl0QXJyYXkyLCB1cGRhdGVkX3Rva2Vucyk7CgogICAgX1ZhbHVlczIgPSBfVmFsdWVzMi5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0gIT09ICIiOwogICAgfSk7IC8vU2V0dGluZyB0aGUgZmluYWwgY29uZGl0aW9uIHZhbHVlIGluIGNhc2VzIGxpa2Ug4KSF4KSX4KSwIChhZ2VvbmU9PTEwKSAKCiAgICBDb25kaXRpb25WYWx1ZSA9IFVwZGF0ZVVwZGF0ZWRfdG9rZW5zd2l0aFZhbHVlcyhfVmFsdWVzMiwgdXBkYXRlZF90b2tlbnMsIGopOwogIH0KCiAgcmV0dXJuIENvbmRpdGlvblZhbHVlOwp9CgpmdW5jdGlvbiBGb3JMb29wU2V0TWV0YWRhdGEodG9rZW5zLCBpLCB1cGRhdGVkX3Rva2VucykgewogIC8vCiAgLy9HZXR0aW5nIGV2cnkgaW5mb3JtYXRpb24gYWJvdXQgZm9yIGxvb3AgCiAgdmFyIEZvckxvb3BNZXRhRGF0YSA9IHRva2Vuc1tpICsgMV07IC8vIAogIC8vU3BsaXR0aW5nIHRoZSBmb3Jsb29wbWV0YWRhdCB2YWx1ZXMgaW5kaXZpZHVhbGx5CgogIHZhciBpdGVyYXRvciA9IEZvckxvb3BNZXRhRGF0YS5pdGVyYXRvcjsKICB2YXIgZWxlbWVudCA9IEZvckxvb3BNZXRhRGF0YS52YWx1ZTsKICB2YXIgSXRlcmF0aW9uU3RhcnQgPSBwYXJzZUludChGb3JMb29wTWV0YURhdGEuaXRlcmF0aW9uU3RhcnQpOwogIHZhciBJdGVyYXRpb25FbmQgPSBwYXJzZUludChGb3JMb29wTWV0YURhdGEuaXRlcmF0aW9uRW5kKTsgLy9wdXNoaW5nIGluZGV4IAogIC8vY2hlY2tpbmcgaWYgaXRlcmF0aW9uIGVuZCBpcyBhbiBwcmVkZWZpbmVkIHZhcmlhYmxlCgogIHZhciB0b2tlbiA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwubmFtZSA9PSBGb3JMb29wTWV0YURhdGEuaXRlcmF0aW9uRW5kOwogIH0pOwoKICBpZiAodG9rZW4gIT0gdW5kZWZpbmVkKSB7CiAgICBJdGVyYXRpb25FbmQgPSBwYXJzZUludCh0b2tlbi52YWx1ZSk7CiAgfSAvLyB2YXIgRm9yTG9vcFNvdXJjZWRhdGEgPSBGb3JMb29wTWV0YURhdGEuRm9yTG9vcFNvdXJjZWRhdGEKICAvLwoKCiAgdmFyIGVsZW1lbnRWYWx1ZSA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwubmFtZSA9PSBlbGVtZW50OwogIH0pOwogIHZhciBlbGVtZW50TGVuZ3RoID0gMDsKICB2YXIgRm9yTG9vcFNvdXJjZWRhdGFJbmRleFN0YXJ0ID0gMDsKICB2YXIgT3JpZ2luYWxJdGVyYXRvciA9IEZvckxvb3BNZXRhRGF0YS5pdGVyYXRvcjsgLy8KICAvLyBSdW4gaWYgc3RhcnQgYW5kIGVuZCBwYXJhbWV0ZXJzIGFyZSBub3QgZ2l2ZW4gZS5nIOCkpuClgeCkueCksOCkvuCkkyBhIOCkleCliyAgTmFtZSDgpK7gpYcgCiAgLy8gVGhpcyBpcyByYW4ganVzdCB0byBnZXQgU3RhcnQgYW5kIEVuZCBwYXJhbWV0ZXJzIGFzIHRoZXkgYXJlIG5vdCBwcm92aWRlZAoKICBpZiAoRm9yTG9vcE1ldGFEYXRhLml0ZXJhdGlvbkVuZCA9PSB1bmRlZmluZWQpIHsKICAgIC8vcnVuIGlmIGVsZW1lbnQgaXMgYXJyYXkKICAgIGlmIChlbGVtZW50VmFsdWUudHlwZSA9PSAnQXJyYXknKSB7CiAgICAgIGVsZW1lbnRMZW5ndGggPSBlbGVtZW50VmFsdWUudmFsdWUuc3BsaXQoJywnKS5sZW5ndGg7CiAgICAgIEl0ZXJhdGlvblN0YXJ0ID0gMDsKICAgICAgSXRlcmF0aW9uRW5kID0gZWxlbWVudExlbmd0aCAtIDE7CiAgICB9IC8vcnVuIGlmIGVsZW1lbnQgaXMgU3RyaW5nCiAgICBlbHNlIHsKICAgICAgICBlbGVtZW50TGVuZ3RoID0gZWxlbWVudFZhbHVlLnZhbHVlLmxlbmd0aDsKICAgICAgICBJdGVyYXRpb25TdGFydCA9IDA7CiAgICAgICAgSXRlcmF0aW9uRW5kID0gZWxlbWVudExlbmd0aCAtIDE7CiAgICAgIH0KICB9CgogIHZhciBDeWNsZSA9IEl0ZXJhdGlvbkVuZDsgLy8KCiAgcmV0dXJuIHsKICAgIEZvckxvb3BTb3VyY2VkYXRhSW5kZXhTdGFydDogRm9yTG9vcFNvdXJjZWRhdGFJbmRleFN0YXJ0LAogICAgQ3ljbGU6IEN5Y2xlLAogICAgT3JpZ2luYWxJdGVyYXRvcjogT3JpZ2luYWxJdGVyYXRvciwKICAgIEl0ZXJhdGlvblN0YXJ0OiBJdGVyYXRpb25TdGFydCwKICAgIGl0ZXJhdG9yOiBpdGVyYXRvciwKICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICBlbGVtZW50VmFsdWU6IGVsZW1lbnRWYWx1ZQogIH07Cn0gLy9UbyByZXNvbHZlIG9wZXJhdGlvbnMgbGlrZSBBcnJheVthXT1hKzIgaW4gbG9vcHMgYW5kIGluIHBsYWluIGNvbnRleHQKCgpmdW5jdGlvbiBTZXRBcnJheUluZGV4VmFsdWUoU291cmNlRGF0YSwgaSwgaiwgQ29tcGxldGVUb2tlblZhbHVlTGlzdCwgdG9rZW5zLCBPcmlnaW5hbEl0ZXJhdG9yLCBpdGVyYXRvcikgewogIHZhciBWYWx1ZSA9IFNvdXJjZURhdGFbaV0udmFsdWU7IC8vCiAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgdmFyIFZhbHVlVG9TZXQgPSBTb3VyY2VEYXRhW2ldLlZhbHVlVG9TZXQ7CiAgdmFyIGVsZW1lbnQgPSBSZW1vdmVCcmFja2V0cyhWYWx1ZSk7CiAgdmFyIEFycmF5RWxlbWVudCA9ICcnOyAvL1NlcHJhdGluZyBvdXQgaW5kZXggaWRlbnRpZmllci4geHl6IGZyb20gQXJyYXlbeHl6XQoKICBlbGVtZW50ID0gZWxlbWVudC5yZXBsYWNlKCddJywgJycpOwogIHZhciBTcGxpdCA9IGVsZW1lbnQuc3BsaXQoJ1snKTsgLy8gcnVuIGlmIHdlIG5lZWQgdG8gc2V0IGRpcmVjdCBBcnJheSBlbGVtZW50IHZhbHVlLiBsaWtlIEFycmF5WzJdPSB4eXggICAgICAgICAgICAgICAgICAgIAoKICBpZiAoaXNOdW1iZXIoU3BsaXRbMV0pKSB7CiAgICBTcGxpdCA9IFNwbGl0LmpvaW4oJ1snKTsgLy8KCiAgICBTcGxpdCA9IFNwbGl0ICsgJ10nOwogICAgQXJyYXlFbGVtZW50ID0gU3BsaXQ7IC8vIAoKICAgIE5ld1ZhbHVlVG9TZXQgPSBDYWxjdWxhdGVWYWx1ZXMoVmFsdWVUb1NldCwgaiwgQ29tcGxldGVUb2tlblZhbHVlTGlzdCk7CiAgICBTZXRBcnJheW9yU3RyaW5nRWxlbWVudChBcnJheUVsZW1lbnQsIENvbXBsZXRlVG9rZW5WYWx1ZUxpc3QsIGZhbHNlLCBOZXdWYWx1ZVRvU2V0LCB0b2tlbnMpOwogIH0gLy8gcnVuIGlmIHdlIG5lZWQgdG8gZHluYW1pY2FsbHkgc2V0IEFycmF5IGVsZW1lbnQgdmFsdWUuIGxpa2UgQXJyYXlbaV09IHh5eAogIC8vQ3JlYXRlQXJyYXlFbGVtZW50IGZ1bmN0aW9uIHdpbGwgY3JlYXRlIGR5bmFtaWMgQXJyYXkgdmFsdWVzLiBsaWtlIEFycmF5WzBdLCBBcnJheVsxXSBldGMuICAgICAgICAgICAgICAgICAgICAKICBlbHNlIHsKICAgICAgdmFyIGluZGV4ID0gU3BsaXRbMV07IC8vIHNldHRpbmcgaXRlcmF0b3IgYXMgcGVyIHVzZXIgaW5wdXQgCiAgICAgIC8vZm9yIGl0ZXJhdG9yIGxpa2UgY291bnQ9Y291bnQgKyAxLCBBcnJheVtjb3VudF0KCiAgICAgIHZhciBuZXdJbnRlcmF0b3IgPSAwOwogICAgICB2YXIgdG9rZW4gPSBDb21wbGV0ZVRva2VuVmFsdWVMaXN0LmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLm5hbWUgPT0gaW5kZXg7CiAgICAgIH0pOwoKICAgICAgaWYgKHRva2VuICE9IHVuZGVmaW5lZCkgewogICAgICAgIG5ld0ludGVyYXRvciA9IHRva2VuLnZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIG5ld0ludGVyYXRvciA9IGl0ZXJhdG9yOwogICAgICB9CgogICAgICBBcnJheUVsZW1lbnQgPSBDcmVhdGVBcnJheUVsZW1lbnQoVmFsdWUsIG5ld0ludGVyYXRvcik7CiAgICB9IC8vIHRoaXMgY29kZSBpcyB3cml0dGVuIHRvIGZpbmQgb3BlcmF0aW9ucyBsaWtlIEFycmF5W2FdPSBhKjEwMCthZ2UqYS4gbm90aWNlIGEKICAvL2ZpbmQgYSB3YXkgdG8gc2ltcGxpZnkgdGhpcyBpbiBsb25nIHRlcm0KCgogIHZhciBkYXRhID0gVmFsdWVUb1NldDsKICBkYXRhID0gZGF0YS5zcGxpdCgnKicpLnRvU3RyaW5nKCk7CiAgZGF0YSA9IGRhdGEuc3BsaXQoJysnKS50b1N0cmluZygpOwogIGRhdGEgPSBkYXRhLnNwbGl0KCctJykudG9TdHJpbmcoKTsKICBkYXRhID0gZGF0YS5zcGxpdCgnLycpLnRvU3RyaW5nKCk7CiAgZGF0YSA9IGRhdGEuc3BsaXQoJywnKTsgLy8KICAvL2J1aWxkaW5nIGEgbmV3IHZhbHVlIHRvIGNvbnZlcnQgYSoxMDArYWdlKmEgaW50byA1KjEwMCthZ2UqYSBhbmQgdGhlbiBzZW5kaW5nIGl0IHRvIENhbGN1bGF0ZVZhbHVlcygpCgogIHZhciBOZXdWYWx1ZVRvU2V0ID0gJyc7IC8vIAoKICBpZiAoZGF0YS5pbmNsdWRlcyhTcGxpdFsxXSkgJiYgZGF0YS5sZW5ndGggPiAxKSB7CiAgICAvL3dlIGhhdmUgb3BlcmF0aW9ucyBsaWtlIEFycmF5W2FdPSBhKjEwMCthZ2UqYS4gbm90aWNlIGEKICAgIGZvciAodmFyIG0gPSAwOyBtIDwgVmFsdWVUb1NldC5sZW5ndGg7IG0rKykgewogICAgICBpZiAoVmFsdWVUb1NldFttXSA9PSBTcGxpdFsxXSAmJiAhL15bYS16XSskL2kudGVzdChWYWx1ZVRvU2V0W20gKyAxXSkpIHsKICAgICAgICAvLyB2YWx1ZSBpcyBiZWVuIHNldCAuIHJlcGxhY2luZyBpbmRleCB2YWx1ZSBhIHdpdGggaXRlYXJ0b3IgdmFsdWUgMCwxLDIsIGV0Yy4gICAKICAgICAgICBOZXdWYWx1ZVRvU2V0ID0gTmV3VmFsdWVUb1NldCArIGl0ZXJhdG9yOwogICAgICB9IGVsc2UgewogICAgICAgIE5ld1ZhbHVlVG9TZXQgPSBOZXdWYWx1ZVRvU2V0ICsgVmFsdWVUb1NldFttXTsKICAgICAgfQogICAgfQoKICAgIHZhciBpdGVyYXQgPSBmYWxzZTsgLy9nYXZlIGl0IGEgZGlmZmVyZW50IG5hbWUgc28gaXQgd291bGQgbm90IGZ1Y2sgdXAgd2l0aCBmb3IgbG9vcCBpdGVyYXRvcgoKICAgIE5ld1ZhbHVlVG9TZXQgPSBDYWxjdWxhdGVWYWx1ZXMoTmV3VmFsdWVUb1NldCwgaiwgQ29tcGxldGVUb2tlblZhbHVlTGlzdCk7IC8vIAoKICAgIFNldEFycmF5b3JTdHJpbmdFbGVtZW50KEFycmF5RWxlbWVudCwgQ29tcGxldGVUb2tlblZhbHVlTGlzdCwgaXRlcmF0LCBOZXdWYWx1ZVRvU2V0LCB0b2tlbnMpOwogIH0gLy8gdGhpcyBjb25kaXRpb24gZW5hYmxlcyBwcm9ncmFtIHRvIG9ubHkgcnVuICBBcnJheVthXT0geHl6IHdoZW4gaXRlcmF0b3IgaXMgYS4gSXQgZGlzYWxsb3dzIHJ1bm5pbmcgQXJyYXlbYmxhYmxhYmxhXT14eXoKCgogIGlmIChPcmlnaW5hbEl0ZXJhdG9yID09IFNwbGl0WzFdKSB7CiAgICAvLyAgCiAgICBpZiAoU3BsaXRbMV0gPT0gVmFsdWVUb1NldCkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gdHJ1ZTsKICAgICAgU2V0QXJyYXlvclN0cmluZ0VsZW1lbnQoQXJyYXlFbGVtZW50LCBDb21wbGV0ZVRva2VuVmFsdWVMaXN0LCBfaXRlcmF0b3IsIFZhbHVlVG9TZXQsIHRva2Vucyk7CiAgICB9IC8vIGZvciBvcGVyYXRpb25zIGxpa2UgQXJyYXlbYV09YWdlb25lKjEwMAoKCiAgICBpZiAoIWRhdGEuaW5jbHVkZXMoU3BsaXRbMV0pICYmIE9yaWdpbmFsSXRlcmF0b3IgPT0gU3BsaXRbMV0pIHsKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBmYWxzZTsKICAgICAgVmFsdWVUb1NldCA9IENhbGN1bGF0ZVZhbHVlcyhWYWx1ZVRvU2V0LCBqLCBDb21wbGV0ZVRva2VuVmFsdWVMaXN0KTsgLy8gCiAgICAgIC8vIAoKICAgICAgU2V0QXJyYXlvclN0cmluZ0VsZW1lbnQoQXJyYXlFbGVtZW50LCBDb21wbGV0ZVRva2VuVmFsdWVMaXN0LCBfaXRlcmF0b3IyLCBWYWx1ZVRvU2V0LCB0b2tlbnMpOwogICAgfSAvL1NldEFycmF5b3JTdHJpbmdFbGVtZW50KEFycmF5RWxlbWVudCxDb21wbGV0ZVRva2VuVmFsdWVMaXN0LCBpdGVyYXRvciwgVmFsdWVUb1NldCwgdG9rZW5zKQoKICB9IC8vbWlnaHQgaGF2ZSB0byBhZGQgbW9yZSBjb25kaXRpb25zIGluIHRoZSBmdXR1cmUKICBlbHNlIHsKICAgICAgdmFyIF9pdGVyYXRvcjMgPSBmYWxzZTsKICAgICAgVmFsdWVUb1NldCA9IENhbGN1bGF0ZVZhbHVlcyhWYWx1ZVRvU2V0LCBqLCBDb21wbGV0ZVRva2VuVmFsdWVMaXN0KTsgLy8gICAKICAgICAgLy8gCgogICAgICBTZXRBcnJheW9yU3RyaW5nRWxlbWVudChBcnJheUVsZW1lbnQsIENvbXBsZXRlVG9rZW5WYWx1ZUxpc3QsIF9pdGVyYXRvcjMsIFZhbHVlVG9TZXQsIHRva2Vucyk7CiAgICB9Cn0KCmV4cG9ydCB7IENvdW50LCBGb3JMb29wU2V0TWV0YWRhdGEsIGdldExvb3BJbmRleFN0YXJ0LCBSZXNldFZhbHVlLCBIYW5kbGVCbG9ja3MsIEhhbmRsZUNvbmRpdGlvbnMsIEFzc2lnbm9yVXBkYXRlVmFsdWVzLCBQdXNoR2V0QXJyYXlJbmRleFZhbHVlLCBQdXNoU2V0QXJyYXlJbmRleFZhbHVlLCBpc0FycmF5T3BlcmF0aW9uLCBHZXRDb25kaXRpb25WYWx1ZSwgUHJpbnRBcnJheUVsZW1lbnQsIENhbGN1bGF0ZVZhbHVlcywgaGFuZGxlbXVsdENvbmRpdGlvbnMsIENyZWF0ZUFycmF5RWxlbWVudCwgU2V0QXJyYXlvclN0cmluZ0VsZW1lbnQsIFJlbW92ZUJyYWNrZXRzLCBGb3JMb29wQXJyYXlvclN0cmluZ091dHB1dCwgR2V0QXJyYXlvclN0cmluZ0VsZW1lbnQsIFNwbGl0RWxlbWVudHNBcnJheSwgU2V0VmFsdWVzLCBVcGRhdGVVcGRhdGVkX3Rva2Vuc3dpdGhWYWx1ZXMsIFNldEFycmF5SW5kZXhWYWx1ZSB9Ow=="},{"version":3,"sources":["/Users/jonny/Documents/Work/test/src/FunctionScripts/MiscImportantFunctions.js"],"names":["Number","isEmptyStringorChar","element","charAt","isPureEval","test","isCalculation","isNumber","includes","length","RemoveBrackets","a","replace","b","c","d","Count","item","count","i","isArrayOperation","FindConditionValue","StringVar","StrVar","j","push","getLoopIndexStart","mutable_tokens","check","setIndex","value","handlemultConditions","condition","substring","SweepedElement","operator","CalculateValues","calculation","updated_tokens","IterationStart","global","flag","error","calculationArray","SplitElementsArray","SetValues","joinStringVar","join","NewStringVar","eval","undefined","forEach","el","toString","PushSetArrayIndexValue","tokens","data","type","ValueToSet","PushGetArrayIndexValue","CreateArrayElement","Value","iterator","ArrayElement","Split","split","SetArrayorStringElement","NewValue","indexCollected","Element","find","name","token","indexOf","index","PrintArrayElement","GetArrayorStringElement","ForLoopArrayorStringOutput","elementValue","CurrentElement","FoundValue","output","ArrayElementValue","UpdateUpdated_tokenswithValues","payload","HandleBlocks","StoreResult","ArrayBrackets","x","pop","startIndex","EndIndex","HandleConditions","sourcedata","SplitArray","Values","ForLoopConditionValue","SplitandJoin","array","Joinarray","AccumulateValue","ResetValue","AssignorUpdateValues","OriginalIterator","variable","variableType","varvalue","varvalueType","console","log","Itemvalue","ItemvalueLength","identifier","n","ArrayItem","m","GetConditionValue","ConditionValue","MultConditionsCount","parseInt","BuiltMultConditonWithValues","LastResult","result","filter","ForLoopSetMetadata","ForLoopMetaData","iterationStart","IterationEnd","iterationEnd","elementLength","ForLoopSourcedataIndexStart","Cycle","SetArrayIndexValue","SourceData","CompleteTokenValueList","NewValueToSet","newInterator","iterat"],"mappings":"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","sourcesContent":["import {\n    Number\n} from \"core-js\"\n\n\n\n\n//ANCHOR - Important functions to be used while parsing\n\nfunction isEmptyStringorChar(){\n\n\n     \n    return function(element){\nif(element=='\"'|| element==\"'\" || element=='*'||element=='@'||element==\"#\"||element.charAt(0)==\"'\"||element.charAt(0)=='\"')\n\n\n{\n\nreturn true\n\n}\n    }\n\n\n}\n\n\nfunction isPureEval(element){\n\n\n    if(/^([-+]?[0-9]*\\.?[0-9]+[\\/\\+\\-\\*])+([-+]?[0-9]*\\.?[0-9]+)*$/gm.test(element))\n    {\n    \n    return true\n    \n    }\n}\n    \n                \n\nfunction isCalculation(element) {\n\n    if (!isNumber(element)) {\n        \n\n        if ((element.includes(\"+\") || element.includes(\"%\") || element.includes(\"-\") || element.includes(\"*\") || element.includes(\"/\")) && ((element.includes('(') && element.includes(')')) || (!element.includes('(') && !element.includes(')'))) && element.charAt(element.length - 1) != '+') {\n\n            return true\n\n\n        }\n    }\n}\n\nfunction RemoveBrackets(element) {\n\n    let a = element.replace('(', '')\n    let b = a.replace(')', '')\n    let c = b.replace('}', '')\n    let d = c.replace('{', '')\n\n    return d\n\n}\n\nfunction Count(item, element) {\n\n    let count = 0\n\n\n    for (let i = 0; i < element.length; i++) {\n\n        if (element.charAt(i) == item && element.charAt(i + 1) == item) {\n\n            count += 1\n\n\n\n        }\n\n\n\n    }\n\n    return count;\n\n\n}\n\n\nfunction isArrayOperation(element) {\n\n\n\n    //To find Patterns like Array[2], Array[index] etc\n\n    element = RemoveBrackets(element)\n\n    if (element.charAt(element.length - 1) == ']' && element.includes('[') && element.charAt(0) != '[') {\n\n\n        return true\n    }\n\n}\n\n\nfunction FindConditionValue(element)\n\n\n\n{\n\n\n    if (element.includes('>') || element.includes('<') || element.includes('==') || element.includes('!='))\n\n    {\n\n\n        element = element.replace(/' '/g, '')\n        \n\n\n\n    }\n\n\n\n\n    // \n\n    //get index of operation from updated tokens, as a reference\n\n\n\n    var StringVar = [] // here StrVar values will get pushed\n    var StrVar = '' // its used to read var values of any type (anna,a,bad,x etc.) and push it to StringVar\n\n\n\n    for (let j = 0; j < element.length; j++) {\n\n\n\n\n        // find if element[j] is alphabet\n\n        if (/^[A-Z]+$/i.test(element[j]) || (element[j] == '[' || element[j] == ']') || isNumber(element[j])) {\n\n\n\n            StrVar = StrVar + element[j] //keep on pushing for long variable names as strings e.g anna,bad\n\n        }\n\n        if (element[j] == ')' || element[j] == '(' ) {\n\n\n            StringVar.push(element[j])\n\n        }\n\n\n        //to solve [\"Age \"] into [\"Age\"], so that it can correctly find its value in updated_tokens\n\n        if (element[j] == ' ' && element[j + 1] != '+') {\n            StrVar = StrVar + element[j]\n\n            ////////\n\n\n        }\n\n\n\n        //for checking equivalency\n        if ((element[j] == '=' && element[j + 1] == '=')) {\n\n            StringVar.push(StrVar)\n            StringVar.push(element[j] + element[j + 1])\n            StrVar = ''\n            ////////\n\n\n\n        }\n        if ((element[j] == '!' && element[j + 1] == '=')) {\n\n            StringVar.push(StrVar)\n            \n            StringVar.push(element[j] + element[j + 1])\n            StrVar = ''\n            ////////\n\n\n\n        }\n        if (element[j] == \"?\" || element[j] == \"|\" || element[j] == \";\" || element[j] == \"&\" || element[j] == \"^\" || element[j] == \"%\" ||element[j] == \"$\" ||element[j] == \"#\" ||element[j] == \"@\" ||element[j] == \"!\" ||element[j] == \":\" ||element[j] == \"+\" || element[j] == \",\" || element[j] == \"%\"  || element[j] == \"-\" || element[j + 1] == ')' || element[j] == \"/\" || element[j] == \"*\" || element[j] == '>' || element[j] == '<') {\n\n\n\n\n            StringVar.push(StrVar) //push whatever string we have got because it's a string now, cant push operators with it\n\n            //finding the calculations that required brackets and adding them\n\n            if (element[j + 1] != ')') {\n\n                StringVar.push(element[j]) // fixing the bias\n\n            }\n\n\n\n            StrVar = '' // emptyig the StrVar for next variable\n\n\n        }\n        if (element[j + 1] == null) {\n\n            StringVar.push(StrVar) //fixing bias for last element\n\n            // //////\n\n\n        }\n\n\n\n    }\n\n    //\n    return StringVar\n    \n    \n\n\n\n}\n\nfunction getLoopIndexStart(mutable_tokens, j, check, setIndex)\n\n{\n\n\n    while (mutable_tokens[j].value != check)\n\n\n\n    {\n\n\n        if (mutable_tokens[j + 1].value == check) {\n\n\n\n            setIndex = j + 1\n\n\n        }\n\n\n\n        j++;\n\n    }\n    return setIndex\n\n\n\n}\n\n\nfunction handlemultConditions(element) {\n\n\n\n    for (let i = 0; i < element.length; i++) {\n\n\n\n        if ((element.charAt(i) == '&') || (element.charAt(i) == '|'))\n\n\n        {\n\n\n            let condition = element.substring(0, i + 2)\n\n            let SweepedElement = element.replace(condition, \"\")\n            let operator = ''\n\n\n\n            if ((element.charAt(i) == '&')) {\n                condition = condition.replace('&&', '')\n                operator = '&&'\n\n            } else if ((element.charAt(i) == '|')) {\n                condition = condition.replace('||', '')\n                operator = '||'\n\n            }\n\n\n            return {\n                SweepedElement,\n                condition,\n                operator\n            }\n\n\n\n\n            break;\n\n        }\n\n\n\n\n    }\n\n\n}\n\n\n\n\nfunction CalculateValues(calculation, j, updated_tokens, IterationStart, global)\n\n\n\n\n\n{\n    //\n\n    var flag=0\n    var error=''\n    var calculationArray = SplitElementsArray(calculation, j)\n    \n\n    var StringVar = SetValues(calculationArray, updated_tokens)\n    \n    let joinStringVar=StringVar.join('')\n\n    let NewStringVar=''\n    if(isNumber(joinStringVar.charAt(0))==true)\n    {\n        NewStringVar=eval(joinStringVar)\n\n    }\n    else if(isNumber(joinStringVar.charAt(0))==undefined)\n    {\n\n        StringVar.forEach(el=>{\n\n            if(el!='+')\n            {\n            el=el.toString()\n            NewStringVar=NewStringVar+el\n            }\n            \n\n        })\n        \n\n\n        \n    }\n    else{\n\n        StringVar=StringVar\n\n    }\n\n   \n\n\n        return (StringVar.length > 1 ? NewStringVar : StringVar)\n\n   \n\n\n\n}\n\n\nfunction PushSetArrayIndexValue(value, tokens, data, i) {\n\n\n\n\n    tokens.push({\n        type: \"SetArrayIndexValue\",\n        value: value,\n        ValueToSet: data[i + 2] //skipping =\n    });\n\n}\n\nfunction PushGetArrayIndexValue(value, tokens, data, i) {\n\n\n\n\n    tokens.push({\n        type: \"GetArrayIndexValue\",\n        value: value,\n    });\n\n}\n\n\nfunction CreateArrayElement(Value, iterator) {\n\n\n    let ArrayElement = RemoveBrackets(Value);\n\n    //Seprating out index identifier. xyz from Array[xyz]\n    let element = ArrayElement\n    element = element.replace(']', '')\n\n\n    let Split = element.split('[')\n    //\n\n\n\n    Split[1] = iterator\n\n\n\n\n    Split = Split.join('[')\n    //\n\n    Split = Split + ']'\n    ArrayElement = Split\n\n\n    ArrayElement = ArrayElement.replace(/' '/g, '')\n\n\n    return ArrayElement\n\n}\n\n\n//This function is used to get array or string elements. e.g Array[2], String[5] \n//Heavily used in Forloop module\n\n\n\nfunction SetArrayorStringElement(ArrayElement, updated_tokens, iterator, NewValue, tokens) {\n    //\n\n\n    ArrayElement = ArrayElement.replace(']', '')\n\n\n    let Split = ArrayElement.split('[')\n\n    let indexCollected = Split[1]\n\n\n    let Element = updated_tokens.find(el => el.name == NewValue)\n\n    //If element is an assigned variable. Find the value and set it.\n\n    if (Element) {\n        if (isCalculation(NewValue)) {\n\n            // This is to set x= y*100, Array[i]= x+ageone. \n\n            let token = tokens.find(el => el.value == NewValue)\n            let j = tokens.indexOf(token) - 1\n\n\n            let value = CalculateValues(NewValue, j, updated_tokens)\n\n            NewValue = value\n\n        }\n\n        NewValue = Element.value\n\n    }\n\n    if (iterator == true) {\n\n        //for Array[a]=a\n\n\n        if (isCalculation(NewValue)) {\n\n\n        } else {\n\n            NewValue = indexCollected\n\n        }\n    }\n\n    //if fresh newvalue is foumd. the one which doesnt yet exist in the program, then run this.\n    else {\n\n        NewValue = NewValue\n    }\n\n\n\n\n    let token = updated_tokens.find(el => el.name == Split[0])\n\n    let index = updated_tokens.indexOf(token)\n\n    //updated_tokens values will also get updated thrugh this reference\n    let value = token.value\n\n    value = value.toString()\n\n    value = value.replace(']', '')\n    value = value.replace('[', '')\n    value = value.split(',')\n\n\n\n\n    if (iterator == true) {\n\n        //This is for Array[a]=a\n\n        value[indexCollected] = indexCollected\n\n\n    } else {\n\n        //Run when iterator is not needed. iterator is present in ArrayEleMENT ALREADY. This is for Array[i]='Swanand'\n\n        value[indexCollected] = NewValue\n\n\n\n\n    }\n\n    //converting array back into the string representation of it for better printabillity\n\n    updated_tokens[index].value = '[' + value.toString() + ']'\n\n\n\n\n}\n\n\nfunction PrintArrayElement(ArrayElement, updated_tokens)\n\n{\n\n    ArrayElement = ArrayElement.replace(']', '')\n\n    let Split = ArrayElement.split('[')\n\n    let indexCollected = Split[1]\n\n    let token = updated_tokens.find(el => el.name == Split[0])\n\n\n\n    let value = token.value\n    value = value.replace(']', '')\n    value = value.replace('[', '')\n    value = value.split(',')\n\n\n    return value[indexCollected]\n\n\n\n\n}\n\nfunction GetArrayorStringElement(element, updated_tokens, NewValue, flag) {\n\n    element = element.replace(']', '')\n\n    let Split = element.split('[')\n\n    let indexCollected = Split[1]\n\n    if (isNumber(indexCollected)) {\n\n\n        let token = updated_tokens.find(el => el.name == Split[0])\n        \n\n\n        let index = updated_tokens.indexOf(token)\n\n        let value = token.value.toString()\n        \n\n\n\n\n        if (token.type == 'Array') {\n\n\n            value = value.replace(']', '')\n            value = value.replace('[', '')\n            value = value.split(',')\n\n\n            if (NewValue != undefined) {\n\n                if (!isNumber(NewValue)) {\n\n                    NewValue = NewValue.replace(/\"/g, '')\n                    NewValue = NewValue.replace(//g, '')\n                    NewValue = NewValue.replace(/'/g, '')\n                    NewValue = NewValue.replace(//g, '')\n                } else {\n\n                    NewValue = NewValue\n                }\n\n\n\n                value[indexCollected] = NewValue\n\n                updated_tokens[index].value = value\n\n\n\n\n            } else {\n\n\n                value = value[indexCollected];\n                //////\n                //////\n\n\n            }\n\n\n\n\n        }\n\n        else if (token.type == 'string' || token.type!='Array' ) {\n\n\n\n            value = value.charAt(indexCollected);\n\n\n\n        }\n\n\n\n\n        return value\n    }\n\n\n\n}\n\n\nfunction ForLoopArrayorStringOutput(elementValue, iterator, updated_tokens, global)\n\n{\n\n\n    let CurrentElement = ''\n\n\n    CurrentElement = elementValue.name + '[' + iterator + ']'\n    //Foundvalue is decided in the function depending upon the type. \n    //if it's array run array[2], if its string run string.charAt(2)\n    let FoundValue = GetArrayorStringElement(CurrentElement, updated_tokens)\n\n\n    global.output = global.output + FoundValue + \"\\n\";\n\n\n\n}\n\n\n\n\nfunction isNumber(element) {\n\n\n    if (/^[0-9]*$/gm.test(element)) {\n        return true;\n\n    }\n};\n\n\n\nfunction SplitElementsArray(element, i)\n\n\n\n{\n\n\n\n    //removing the \"(\"\" and \")\"\n    // element = RemoveBrackets(element)\n\n    /*seperate execution\n    if(element.includes('&&') || element.includes('||'))\n        {\n\n            \n\n            element=element.replace(/ /g,'')\n\n\n\n            \n\n           let ConditionArray=element.split('&&');\n           let ConditionArraywithValues=[]\n           \n\n           ConditionArray.forEach((element,i)=>{\n               \n\n\n           ConditionArraywithValues.push(FindConditionValue(element))   \n\n\n           })\n\n         return ConditionArraywithValues\n\n        }\n    */\n\n\n\n\n    return FindConditionValue(element)\n\n\n\n\n}\n\n\n\nfunction SetValues(StringVar, updated_tokens)\n\n\n\n{\n\n\n    StringVar.forEach((el, i) =>\n\n        {\n\n            el = el.replace(/\\ /g, '');\n\n\n\n            if (el.charAt(el.length - 1) == ']') {\n                let ArrayElementValue = GetArrayorStringElement(el, updated_tokens)\n\n\n                ArrayElementValue = ArrayElementValue.replace(/['\"]+/g, '')\n\n                StringVar[i] = ArrayElementValue\n\n\n\n\n            } //finding variable values here \n\n\n            let token = updated_tokens.find(element => element.name == el);\n\n            ////////\n\n            // //////\n\n\n\n            if (token != undefined) {\n\n                // if exists set it's value \n                StringVar[i] = token.value\n\n\n\n            }\n\n            // //////\n\n\n        })\n\n\n    return StringVar\n\n\n\n\n}\n\n\n\n\n//ANCHOR \n//Now we hae converted found \"anna+bad-d\" into [anna,+,bad,-,d]\n\n//Now lets run a loops on it to convert into [5,+,6,-,7]\n\n//global is important\n//Updated_tokens is updated by replacing \"value:anna+bad-d\" with \"value:5+6-7\". \n//after eval function it will be set as \"value:2\"\n\n\nfunction UpdateUpdated_tokenswithValues(payload, i, updated_tokens) {\n\n    let StringVar = payload\n\n\n\n\n    //run if it's arithmetic operation like [\"5+6-7\"]\n    if (isNumber(StringVar[0])) {\n\n\n        let value = eval(StringVar.join(''))\n\n        return value\n\n    } else if (StringVar[1] == '==') {\n\n        let a = StringVar[0].toString()\n        let b = StringVar[2].toString()\n\n        let value = eval(a == b)\n\n        return value\n\n\n    }\n\n\n\n    //run if it's String operation like [\"swanand kadam\",\"+\", \"is goat\"]\n    else {\n\n\n\n\n        if (StringVar.includes(\"+\")) {\n\n            StringVar[StringVar.indexOf(\"+\")] = \" \"\n\n\n        }\n\n\n\n\n        let value = StringVar.join(\"\")\n\n\n\n        return value\n    }\n\n}\n\n\n//Handle Blocks is a function which takes care of nested block by taking care of nested { and } brackets\n//it uses the stack to push and pop brackets to accurately identify start and the end of the block\nfunction HandleBlocks(mutable_tokens, j, StoreResult) {\n\n\n    //StoreResult is used to push data into it in case of forloop or while loop conetext\n    //for a normal block like conditional block it might not need to be used yet\n\n\n\n    let ArrayBrackets = []\n\n\n    while (true)\n\n\n    {\n\n\n\n        if (mutable_tokens[j].value == '{') {\n\n            ArrayBrackets.push({\n                type: '{',\n                index: j\n            })\n            //\n\n            if (StoreResult != undefined) {\n\n                StoreResult.push(mutable_tokens[j])\n            }\n\n\n        } else if (mutable_tokens[j].value == '}') {\n\n            //As soon as open bracket is found, pop the last arraybracket stack value\n            //that's the match\n\n            let x = ArrayBrackets.pop()\n            //\n            if (StoreResult != undefined) {\n\n                StoreResult.push(mutable_tokens[j])\n\n\n                mutable_tokens[x.index].startIndex = x.index\n                mutable_tokens[x.index].EndIndex = j\n            }\n\n            //set start and end index value for that { } block\n            mutable_tokens[x.index].startIndex = x.index\n            mutable_tokens[x.index].EndIndex = j\n            if (ArrayBrackets.length == 0) {\n\n                //As soon as stack is empty we have finished our last lblock\n\n\n                break;\n\n            }\n\n\n\n\n        } else {\n\n            if (StoreResult != undefined) {\n\n                StoreResult.push(mutable_tokens[j])\n            }\n\n\n        }\n\n        j++;\n\n\n\n\n    }\n\n\n    return {\n        StoreResult,\n        j\n    }\n\n}\n\n\nfunction HandleConditions(sourcedata, i, updated_tokens) {\n\n    let element = sourcedata[i].value\n    //\n    //\n\n    //let token= updated_tokens.find(el=> el.originalvalue==sourcedata[i].value)\n\n\n\n\n    let SplitArray = SplitElementsArray(element, i)\n\n\n    let Values = SetValues(SplitArray, updated_tokens)\n\n\n    let ForLoopConditionValue = UpdateUpdated_tokenswithValues(Values, updated_tokens, i)\n\n\n\n\n    if (ForLoopConditionValue == false) {\n\n\n\n\n        while (sourcedata[i + 1].value != '}')\n\n\n\n\n        {\n\n\n\n            // \n            //tokens.splice(i+1, 1);\n\n            //No need to delete tokens, we are iust skipping over the values so that they won't be printed or run\n            //\n            i++;\n\n\n\n\n        }\n\n\n        // \n        return i\n\n\n\n    }\n\n\n\n\n}\n\n\n\nfunction SplitandJoin(array, output, element) {\n\n    array[1] = output\n\n    let Joinarray = array.join('[') + ']'\n    element = Joinarray\n\n    return element\n\n\n}\n\nvar AccumulateValue = ''\n\nfunction ResetValue() {\n\n    AccumulateValue = ''\n\n}\n\n\n\nfunction AssignorUpdateValues(sourcedata, i, updated_tokens, iterator, OriginalIterator,global) {\n    //\n\n\n    let variable = sourcedata[i - 1].value\n    \n    \n\n    let variableType = sourcedata[i - 1].type\n    //\n    let varvalue = sourcedata[i + 1].value\n    \n    \n\n    if(varvalue=='\"'||varvalue==\"'\")\n    {\n\n\n\n        varvalue=' '\n    }\n    \n    \n    if (varvalue.includes('') || varvalue.includes('') || varvalue.includes('') || varvalue.includes('') || varvalue.includes('') || varvalue.includes('') || varvalue.includes('')) \n    \n    {\n\n        let error= 'Assignment error in ' + '\"' + variable +' = '+ '\"' \n\n\nglobal.error.push(error)\n\n\n    }\n    \n\n\n\n    let varvalueType = sourcedata[i + 1].type\n\n    let x = updated_tokens.find((el, i) => el.name == varvalue)\n\n    \n    if(!isNumber(varvalue)&& varvalueType=='value' && x==undefined && varvalue!=' ' && !isEmptyStringorChar(varvalue))\n    \n    \n    {\n\n       \n\n            global.error.push('Cannot set ' + variable + ' to undefined ' + ': ' + varvalue + ' is undefined ' )\n\n\n\n\n    }\n\n\n   else if(varvalue.includes(''))\n   \n   \n{\n\n  let Split=varvalue.split('.')\n  console.log('varvalue: ', varvalue);\n  \n  let item=Split[0]\n \n  let Itemvalue=updated_tokens.find(el=>el.name==item).value\n  \n  \n  console.log(typeof Itemvalue);\n\n  if(Itemvalue.includes('['))\n  {\n\n    Itemvalue= Itemvalue.toString().split(',')\n\n  }\n  else if(Itemvalue.length==1){\n      \nItemvalue=Itemvalue\n\n\n  }\n\n  else{\n\n    Itemvalue= Itemvalue.toString()\n\n  }\n\n\nlet ItemvalueLength=Itemvalue.length\n\n\nupdated_tokens.push({\n    name: variable,\n\n    value: ItemvalueLength,\n\n\n    identifier: i,\n    type: 'CalLength'\n})\n\n\n    \n}\n\n    //\n\n    //\n\n    //this runs only for operations like x=Numbers[a]\n\n\n   else if (varvalueType == 'GetArrayIndexValue')\n\n    {\n\n        let n = updated_tokens.find((el, i) => el.name == variable)\n\n        let index = updated_tokens.indexOf(n)\n\n        //Numbers[a ] Numbers [3]\n\n\n        //Iterator is used only when we are looping over provided index not for the index that needs to be calculated\n        let element = varvalue.replace(']', '')\n\n        if(element.includes('+'))\n        {\n\n            var Split = element.split('+')\n            \n        }\n\n        else  if(element.includes('-'))\n        {\n\n            var Split = element.split('-')\n            \n            \n        }\n\n\n\n        var flag = false\n\n\n        //For operations like Name=Name+ Array[i]\n\n        if (element.includes('+') ||element.includes('-')  && !Split[0].includes('[')) {\n\n\n            flag = true\n            \n\n\n\n\n            let token = updated_tokens.find(el => el.name == Split[0])\n            let index = updated_tokens.indexOf(token)\n\n\n            let ArrayItem = Split[1].split('[')\n            \n\n\n\n\n            let output = CalculateValues(ArrayItem[1], i, updated_tokens)\n            \n\n\n\n            let ArrayElement = SplitandJoin(ArrayItem, output, element)\n            \n\n\n\n\n            //Get Numbers[3] value and now set it to our variable x\n            let value = GetArrayorStringElement(ArrayElement, updated_tokens)\n            \n            AccumulateValue += value\n\n            updated_tokens[index].value = AccumulateValue\n\n            //\n\n\n\n        } else {\n\n            var Split = element.split('[')\n            \n\n\n\n        }\n\n\n\n        //for operations like x= Array[i+1] etc\n\n\n\n\n        if ((Split[1].includes('-') || Split[1].includes('+')) && !Split[1].includes('[')) {\n\n            let output = CalculateValues(Split[1], i, updated_tokens)\n\n\n            element = SplitandJoin(Split, output, element)\n\n\n        }\n\n\n        let token = updated_tokens.find(el => el.name == Split[1])\n        \n        \n        \n\n        //for operations like Array[Age]. Here index is an already defined variable\n        if (token != undefined && OriginalIterator != Split[1] && token.name!='')\n\n        {\n\n          \n            element = SplitandJoin(Split, token.value, element)\n            \n            \n\n\n        }\n\n        //for operations like Array[i]: Looping over original index value\n        else if (OriginalIterator == Split[1]) {\n\n\n            element = SplitandJoin(Split, iterator, element)\n\n        }\n\n\n        let ArrayElement = element\n        \n        \n\n\n\n\n        //Get Numbers[3] value and now set it to our variable x\n        let value = GetArrayorStringElement(ArrayElement, updated_tokens)\n        \n\n\n        if (n != undefined && flag == false) {\n\n\n            updated_tokens[index].value = value\n\n\n        } else if (flag == false) {\n\n\n            updated_tokens.push({\n                name: variable,\n\n                value: value,\n\n\n                identifier: i,\n                type: sourcedata[i + 1].type\n            })\n        }\n\n    } else {\n\n\n\n        let m = updated_tokens.find((el, i) => el.name == varvalue)\n        \n        \n        \n        \n        \n\n\n\n        if (m != undefined) {\n\n\n\n            varvalue = m.value\n            \n            // \n\n\n        }\n\n        \n\n\n        let n = updated_tokens.find((el, i) => el.name == variable)\n        \n        \n\n\n\n        if (n == undefined) {\n\n\n\n\n            //to check if the assigned value needs to be calculated. this is futher diveded in two types\n\n\n\n            if (isCalculation(varvalue))\n            \n            \n\n            {\n\n\n\n                //type 1- Age= 2020-2000 \n                if (isPureEval(varvalue))\n                \n\n\n\n                {\n\n                    let value = eval(varvalue)\n                    \n                    \n                    \n\n                    //write function for this, so repeatable\n                    updated_tokens.push({\n                        name: variable,\n\n                        value: value,\n\n                        identifier: i,\n                        type: sourcedata[i + 1].type\n                    })\n\n\n                }\n\n                //type 2- X= ageone+agetwo\n                else {\n\n                    //performing the calculation\n\n\n                    let value = CalculateValues(varvalue, i, updated_tokens,global)\n                    \n                    \n                    \n                    \n                    \n                    \n\n\n                    updated_tokens.push({\n                        name: variable,\n\n                        value: value,\n\n                        identifier: i,\n                        type: sourcedata[i + 1].type\n                    })\n\n\n\n                }\n\n\n            }\n\n\n            //if there is no need to calculate, push values as it is\n            else if(!isCalculation(varvalue)) {\n                \n                \n\n\n\n                updated_tokens.push({\n                    name: variable,\n\n                    value: varvalue,\n\n                    identifier: i,\n                    type: sourcedata[i + 1].type\n                })\n\n\n            }\n\n\n        }\n\n\n\n\n        //if it's already assgined, reassign it with updated value\n        else {\n\n\n\n\n            varvalue = varvalue.toString()\n            \n\n\n\n            if (varvalue.includes('-') || varvalue.includes('%')  || varvalue.includes('+') || varvalue.includes('/') || varvalue.includes('*')) {\n\n\n                // \n\n\n\n                let NewValue = CalculateValues(varvalue, i, updated_tokens,global)\n                \n                \n                \n                \n                \n                \n\n                n.value = NewValue\n\n            } else {\n\n\n                let index=updated_tokens.indexOf(n)\n                updated_tokens[index].value=varvalue\n\n\n            }\n\n\n\n\n        }\n\n\n    }\n\n\n    // \n\n\n}\n\n\n\n\nfunction GetConditionValue(element, updated_tokens, j) {\n\n\n    var ConditionValue = false\n\n    if (element.includes('&&') || element.includes('||')) {\n\n\n\n        let MultConditionsCount = parseInt(Count('&', element)) + parseInt(Count('|', element))\n        \n\n\n\n        //this will be our final values\n        //converted as true&&false&&true||true\n        let BuiltMultConditonWithValues = ''\n        let LastResult = {}\n\n\n        //running for loop on original condition to calculates each individual condition and adding its value in BuiltMultConditonWithValues\n\n        for (let i = 0; i <= MultConditionsCount; i++)\n\n        {\n\n\n\n\n            if (i == MultConditionsCount) {\n\n\n\n                let condition = LastResult.SweepedElement\n                condition = condition.replace(/ /g, '')\n\n\n                let SplitArray = SplitElementsArray(condition, j)\n\n                let Values = SetValues(SplitArray, updated_tokens)\n                \n\n\n                ConditionValue = UpdateUpdated_tokenswithValues(Values, updated_tokens, j)\n\n\n\n\n                BuiltMultConditonWithValues = BuiltMultConditonWithValues + ConditionValue\n\n\n            } else {\n\n\n                let result = handlemultConditions(element)\n\n                LastResult = result\n\n\n                element = result.SweepedElement\n                let condition = result.condition\n                condition = condition.replace(/ /g, '')\n\n\n\n\n                let SplitArray = SplitElementsArray(condition, j)\n                \n\n                //\n\n\n\n                let Values = SetValues(SplitArray, updated_tokens)\n                // \n\n\n                ConditionValue = UpdateUpdated_tokenswithValues(Values, updated_tokens, j)\n\n\n\n\n                BuiltMultConditonWithValues = BuiltMultConditonWithValues + ConditionValue + result.operator\n                \n\n\n\n            }\n\n\n        }\n\n\n        //setting the final condition value in cases like  (ageone==10 && AverageAge<1000 && agetwo>100 || ageone==10) \n        \n        ConditionValue = eval(BuiltMultConditonWithValues);\n        \n        \n\n\n\n\n    } else {\n\n        //let token= updated_tokens.find(el=> el.originalvalue==mutable_tokens[j].value)\n\n        let SplitArray = SplitElementsArray(element, j)\n\n\n\n\n        let Values = SetValues(SplitArray, updated_tokens)\n        Values = Values.filter(function(item) {\n\n            return item !== \"\"\n        })\n\n\n\n        //Setting the final condition value in cases like  (ageone==10) \n\n        ConditionValue = UpdateUpdated_tokenswithValues(Values, updated_tokens, j)\n\n\n    }\n\n    return ConditionValue\n\n\n}\n\n\n\nfunction ForLoopSetMetadata(tokens, i, updated_tokens) {\n    //\n\n\n\n    //Getting evry information about for loop \n\n\n    var ForLoopMetaData = tokens[i + 1]\n    // \n\n\n\n    //Splitting the forloopmetadat values individually\n    var iterator = ForLoopMetaData.iterator\n\n\n    var element = ForLoopMetaData.value\n    var IterationStart = parseInt(ForLoopMetaData.iterationStart)\n\n    var IterationEnd = parseInt(ForLoopMetaData.iterationEnd)\n\n\n    //pushing index \n\n//checking if iteration end is an predefined variable\n\n\nlet token=updated_tokens.find(el=>el.name==ForLoopMetaData.iterationEnd)\n\nif(token!=undefined){\n\nIterationEnd=parseInt(token.value)\n\n\n}\n    \n\n    \n    // var ForLoopSourcedata = ForLoopMetaData.ForLoopSourcedata\n    //\n\n\n    var elementValue = updated_tokens.find(el => el.name == element)\n\n    var elementLength = 0\n\n    var ForLoopSourcedataIndexStart = 0\n\n    var OriginalIterator = ForLoopMetaData.iterator\n\n    //\n\n    // Run if start and end parameters are not given e.g  a   Name  \n    // This is ran just to get Start and End parameters as they are not provided\n    if (ForLoopMetaData.iterationEnd == undefined) {\n\n\n        //run if element is array\n        if (elementValue.type == 'Array')\n\n\n        {\n            elementLength = elementValue.value.split(',').length\n\n            IterationStart = 0\n            IterationEnd = elementLength - 1\n\n\n        }\n\n        //run if element is String\n        else {\n            elementLength = elementValue.value.length\n            IterationStart = 0\n            IterationEnd = elementLength - 1\n\n\n        }\n\n\n    }\n\n\n\n\n\n    var Cycle = IterationEnd\n    \n\n\n    //\n\n\n    return {\n        ForLoopSourcedataIndexStart,\n        Cycle,\n        OriginalIterator,\n        IterationStart,\n        iterator,\n        element,\n        elementValue\n    }\n\n\n\n}\n\n\n//To resolve operations like Array[a]=a+2 in loops and in plain context\n\nfunction SetArrayIndexValue(SourceData,i,j,CompleteTokenValueList,tokens,OriginalIterator,iterator)\n{\n\n    let Value = SourceData[i].value\n    //\n    //                              \n\n    let ValueToSet = SourceData[i].ValueToSet\n    \n\n    let element = RemoveBrackets(Value);\n\n    var ArrayElement = ''\n\n\n    //Seprating out index identifier. xyz from Array[xyz]\n\n    element = element.replace(']', '')\n    \n\n\n    let Split = element.split('[')\n    \n\n\n\n    // run if we need to set direct Array element value. like Array[2]= xyx                    \n    if (isNumber(Split[1])) {\n\n        Split = Split.join('[')\n        //\n\n        Split = Split + ']'\n\n\n        ArrayElement = Split\n        // \n\n        NewValueToSet = CalculateValues(ValueToSet, j, CompleteTokenValueList)\n\n\n\n        SetArrayorStringElement(ArrayElement, CompleteTokenValueList, false, NewValueToSet, tokens)\n\n\n\n\n    }\n\n    // run if we need to dynamically set Array element value. like Array[i]= xyx\n    //CreateArrayElement function will create dynamic Array values. like Array[0], Array[1] etc.                    \n    else {\n\n\n        let index = Split[1]\n        \n\n\n        // setting iterator as per user input \n        //for iterator like count=count + 1, Array[count]\n\n        let newInterator = 0\n        \n        let token = CompleteTokenValueList.find(el => el.name == index)\n        \n\n        if (token != undefined) {\n\n            newInterator = token.value\n            \n\n        } else {\n\n            newInterator = iterator\n        }\n\n\n\n        ArrayElement = CreateArrayElement(Value, newInterator)\n        \n\n\n\n\n    }\n\n\n    // this code is written to find operations like Array[a]= a*100+age*a. notice a\n    //find a way to simplify this in long term\n\n    let data = ValueToSet\n\n\n    data = data.split('*').toString();\n    data = data.split('+').toString();\n    data = data.split('-').toString();\n    data = data.split('/').toString();\n    data = data.split(',')\n    //\n\n\n\n\n    //building a new value to convert a*100+age*a into 5*100+age*a and then sending it to CalculateValues()\n    let NewValueToSet = ''\n\n    // \n\n\n    if (data.includes(Split[1]) && data.length > 1)\n\n    {\n\n\n        //we have operations like Array[a]= a*100+age*a. notice a\n\n        for (let m = 0; m < ValueToSet.length; m++)\n\n        {\n\n            if (ValueToSet[m] == Split[1] && !(/^[a-z]+$/i.test(ValueToSet[m + 1])))\n\n            {\n\n\n\n                // value is been set . replacing index value a with iteartor value 0,1,2, etc.   \n                NewValueToSet = NewValueToSet + iterator\n\n            } else {\n\n                NewValueToSet = NewValueToSet + ValueToSet[m]\n\n\n\n            }\n\n\n\n        }\n\n        let iterat = false\n        //gave it a different name so it would not fuck up with for loop iterator\n\n        NewValueToSet = CalculateValues(NewValueToSet, j, CompleteTokenValueList, )\n\n\n\n\n        // \n\n        SetArrayorStringElement(ArrayElement, CompleteTokenValueList, iterat, NewValueToSet, tokens)\n\n\n\n\n    }\n\n\n    // this condition enables program to only run  Array[a]= xyz when iterator is a. It disallows running Array[blablabla]=xyz\n    if (OriginalIterator == Split[1]) {\n\n\n\n        //  \n\n        if (Split[1] == ValueToSet) {\n\n\n            let iterator = true\n\n            SetArrayorStringElement(ArrayElement, CompleteTokenValueList, iterator, ValueToSet, tokens)\n\n\n\n        }\n\n        // for operations like Array[a]=ageone*100\n\n\n        if (!data.includes(Split[1]) && OriginalIterator == Split[1]) {\n\n\n\n            let iterator = false\n\n            ValueToSet = CalculateValues(ValueToSet, j, CompleteTokenValueList)\n            // \n\n            // \n\n            SetArrayorStringElement(ArrayElement, CompleteTokenValueList, iterator, ValueToSet, tokens)\n\n\n\n        }\n\n\n\n\n        //SetArrayorStringElement(ArrayElement,CompleteTokenValueList, iterator, ValueToSet, tokens)\n\n\n\n    }\n\n\n    //might have to add more conditions in the future\n    else {\n\n        let iterator = false\n\n        ValueToSet = CalculateValues(ValueToSet, j, CompleteTokenValueList)\n        //   \n\n        // \n\n        SetArrayorStringElement(ArrayElement, CompleteTokenValueList, iterator, ValueToSet, tokens)\n\n\n\n\n    }\n\n\n\n\n\n    \n}\n\n\n\n\nexport {\n    Count,\n    ForLoopSetMetadata,\n    getLoopIndexStart,\n    ResetValue,\n    HandleBlocks,\n    HandleConditions,\n    AssignorUpdateValues,\n    PushGetArrayIndexValue,\n    PushSetArrayIndexValue,\n    isArrayOperation,\n    GetConditionValue,\n    PrintArrayElement,\n    CalculateValues,\n    handlemultConditions,\n    CreateArrayElement,\n    SetArrayorStringElement,\n    RemoveBrackets,\n    ForLoopArrayorStringOutput,\n    GetArrayorStringElement,\n    SplitElementsArray,\n    SetValues,\n    UpdateUpdated_tokenswithValues,\n    SetArrayIndexValue\n}"]}]}